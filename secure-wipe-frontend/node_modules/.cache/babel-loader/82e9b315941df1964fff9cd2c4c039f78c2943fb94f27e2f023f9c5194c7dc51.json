{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/OneDrive/Desktop/sih 2025/secure-wipe-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import axios from'axios';import{FiRefreshCcw,FiHardDrive,FiShield,FiPlay,FiMoon,FiSun,FiLock,FiZap,FiCpu,FiFileText}from'react-icons/fi';import{motion,AnimatePresence}from'framer-motion';import{Player}from'@lottiefiles/react-lottie-player';import completionAnim from'./assets/completion.json';import emptyAnim from'./assets/empty.json';// Rewritten clean implementation (old duplicated code removed)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const fadeVariant={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.45,ease:[.25,.1,.25,1]}}};const SectionCard=_ref=>{let{title,children,className='',icon:Icon}=_ref;return/*#__PURE__*/_jsxs(motion.div,{variants:fadeVariant,initial:\"hidden\",animate:\"visible\",className:\"eco-card hover-rise \".concat(className),children:[title&&/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-3 tracking-wide text-emerald-300 flex items-center gap-2\",children:[Icon&&/*#__PURE__*/_jsx(Icon,{className:\"text-emerald-400\",size:18}),title]}),children]});};const toneMap={emerald:'bg-emerald-900/40 border-emerald-600/40 text-emerald-300',cyan:'bg-cyan-900/40 border-cyan-600/40 text-cyan-300',amber:'bg-amber-900/40 border-amber-600/40 text-amber-300'};const Pill=_ref2=>{let{children,tone='emerald'}=_ref2;return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded-full text-xs font-medium \".concat(toneMap[tone]||toneMap.emerald),children:children});};// Simple i18n dictionary scaffold (en + hi)\nconst messages={en:{safetyNotice:'Safety Notice',proceed:'I Understand – Continue',selectDevice:'1. Select Device',wipeMethod:'2. Wipe Method',preconditions:'3. Preconditions',startErase:'Start Erase',erasing:'Erasing...',noSpecial:'No special preconditions.',noticeBody:'This process will irreversibly remove data from selected storage devices. Ensure you have backups before you proceed.',dashboardTag:'Certified Eco & Trust Erasure',eraseComplete:'Erase Complete',certificate:'Certificate',downloadPdf:'Download PDF',downloadJson:'Download JSON',downloadZip:'Download Bundle (ZIP)',energy:'Energy',carbon:'CO₂',entropy:'Entropy',confidence:'Confidence',ecoImpact:'Eco Impact',energyReduced:'Energy Used',co2Reduced:'CO₂ Estimated',verificationSummary:'Verification Summary',verifyErasure:'Verify Erasure',startOver:'Start Over',refresh:'Refresh',loading:'Loading...',selected:'Selected',devicesLabel:'Devices',methodLabel:'Method',androidChecklist:'Android Checklist',windowsBitlocker:'Windows / BitLocker',status:'Status',encryptionStatus:'Encryption status',unlock:'Unlock',cancel:'Cancel',value:'Value',keyFilePath:'Key File Path',trust:'Trust',realTimeProgress:'Real-Time Progress',noActivity:'No activity yet.',certificatesTab:'CERTIFICATES',devicesTab:'DEVICES',progressTab:'PROGRESS',noCertificates:'No certificates yet.',doNotDisconnect:'Do not disconnect device...',adminPrivilegesNeeded:'Run backend as Administrator to view full BitLocker encryption status.'},hi:{safetyNotice:'सुरक्षा सूचना',proceed:'मैं समझता हूँ – आगे बढ़ें',selectDevice:'१. डिवाइस चुनें',wipeMethod:'२. वाइप विधि',preconditions:'३. पूर्व शर्तें',startErase:'मिटाना शुरू करें',erasing:'मिटाया जा रहा है...',noSpecial:'कोई विशेष पूर्व शर्त नहीं।',noticeBody:'यह प्रक्रिया चयनित स्टोरेज डिवाइसों से डेटा को स्थायी रूप से हटा देगी। आगे बढ़ने से पहले अपने बैकअप सुनिश्चित करें।',dashboardTag:'प्रमाणित ईको एवं ट्रस्ट इरेज़र',eraseComplete:'मिटाना पूर्ण',certificate:'प्रमाणपत्र',downloadPdf:'PDF डाउनलोड',downloadJson:'JSON डाउनलोड',downloadZip:'ZIP बंडल डाउनलोड',energy:'ऊर्जा',carbon:'CO₂',entropy:'एंट्रॉपी',confidence:'विश्वास स्तर',ecoImpact:'ईको प्रभाव',energyReduced:'ऊर्जा उपयोग',co2Reduced:'अनुमानित CO₂',verificationSummary:'सत्यापन सारांश',verifyErasure:'मिटाने की पुष्टि',startOver:'फिर से शुरू करें',refresh:'रिफ्रेश',loading:'लोड हो रहा है...',selected:'चयनित',devicesLabel:'डिवाइस',methodLabel:'विधि',androidChecklist:'एंड्रॉइड चेकलिस्ट',windowsBitlocker:'विंडोज / बिटलॉकर',status:'स्थिति',encryptionStatus:'एन्क्रिप्शन स्थिति',unlock:'अनलॉक',cancel:'रद्द',value:'मान',keyFilePath:'की फ़ाइल पथ',trust:'विश्वास',realTimeProgress:'रीयल-टाइम प्रगति',noActivity:'अभी तक कोई गतिविधि नहीं।',certificatesTab:'प्रमाणपत्र',devicesTab:'डिवाइस',progressTab:'प्रगति',noCertificates:'कोई प्रमाणपत्र नहीं।',doNotDisconnect:'डिवाइस को न हटाएँ...',adminPrivilegesNeeded:'पूर्ण बिटलॉकर एन्क्रिप्शन स्थिति देखने के लिए बैकएंड को प्रशासक अधिकारों (Administrator) के साथ चलाएँ।'}};function App(){const[unlockModal,setUnlockModal]=useState({open:false,drive:'',method:'password',value:''});const[consent,setConsent]=useState(false);const[theme,setTheme]=useState('dark');const[lang,setLang]=useState('en');const[devices,setDevices]=useState([]);const[apiKey,setApiKey]=useState('');const[devicesLoading,setDevicesLoading]=useState(false);const[selectedDevice,setSelectedDevice]=useState('');const[method,setMethod]=useState('');const[subMethod,setSubMethod]=useState('');const[progress,setProgress]=useState([]);const[erasing,setErasing]=useState(false);const[certificate,setCertificate]=useState(null);const[checklist,setChecklist]=useState({adb:false,connected:false,encrypted:false});const[androidEncryption,setAndroidEncryption]=useState(null);const[winBitLocker,setWinBitLocker]=useState({status:null,unlocking:false,details:[]});const[bitlockerRaw,setBitlockerRaw]=useState(null);const[wipeMethods,setWipeMethods]=useState([]);const[activeTab,setActiveTab]=useState('devices');const[verification,setVerification]=useState(null);const[allowlist,setAllowlist]=useState([]);const[smartData,setSmartData]=useState(null);const[detailedMode,setDetailedMode]=useState(true);const wsRef=useRef(null);const progressPollRef=useRef(null);const[detailedProgress,setDetailedProgress]=useState(null);const progressHistoryRef=useRef([]);// for speed & ETA smoothing\nconst logRef=useRef(null);// Inline injection of SVG sprite once\nuseEffect(()=>{const existing=document.getElementById('device-icon-sprite');if(!existing){fetch('/device-icons.svg').then(r=>r.text()).then(txt=>{const div=document.createElement('div');div.id='device-icon-sprite';div.style.display='none';div.innerHTML=txt;// safe - controlled asset\ndocument.body.appendChild(div);}).catch(()=>{});}},[]);const isAndroid=devices.find(d=>d.id===selectedDevice&&d.type&&d.type.startsWith('Android'));// Adjusted: backend now returns type 'Windows' for Windows disks\nconst isWindowsDrive=devices.find(d=>d.id===selectedDevice&&(d.type==='Windows'||d.type==='SSD'||d.type==='HDD'));const fetchDevices=async detailedParam=>{const detailed=typeof detailedParam==='boolean'?detailedParam:detailedMode;setDevicesLoading(true);try{const res=await axios.get('http://localhost:8000/devices',{params:{detailed,api_key:apiKey||undefined}});setDevices(res.data);}catch(e){/* ignore */}finally{setDevicesLoading(false);}};const fetchAllowlist=async()=>{try{const r=await axios.get('http://localhost:8000/allowlist',{params:{api_key:apiKey||undefined}});setAllowlist(r.data);}catch(_unused){/* ignore */}};const startErase=async()=>{setErasing(true);setProgress([\"\\u25B6 Starting erase \".concat(selectedDevice,\" with method \").concat(method)]);wsRef.current=new window.WebSocket(\"ws://localhost:8000/logs/\".concat(encodeURIComponent(selectedDevice)));wsRef.current.onmessage=event=>{setProgress(p=>[...p,event.data]);if(/Certificate generated/i.test(event.data)){wsRef.current.close();setErasing(false);fetchCertificate();}};wsRef.current.onerror=()=>setProgress(p=>[...p,'⚠ WebSocket error']);try{await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method,sub_method:subMethod||undefined});}catch(e){if(e.response&&e.response.status===412){// auto-add then retry\ntry{await axios.post('http://localhost:8000/allow_device',null,{params:{device_id:selectedDevice}});setAllowlist(a=>[...new Set([...a,selectedDevice])]);await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method,sub_method:subMethod||undefined});setProgress(p=>[...p,'Added to allowlist and restarted erase.']);}catch(_unused2){setProgress(p=>[...p,'Failed to auto-add device to allowlist.']);}}else{setProgress(p=>[...p,\"Erase start error: \".concat(e.message)]);}}// Start polling detailed progress\nif(progressPollRef.current)clearInterval(progressPollRef.current);progressPollRef.current=setInterval(async()=>{try{const r=await axios.get('http://localhost:8000/progress_detailed',{params:{device_id:selectedDevice}});const now=Date.now();if(r.data&&typeof r.data.bytes_written==='number'){progressHistoryRef.current.push({t:now,b:r.data.bytes_written});if(progressHistoryRef.current.length>10)progressHistoryRef.current.shift();const first=progressHistoryRef.current[0];const last=progressHistoryRef.current[progressHistoryRef.current.length-1];let speedBps=0;if(last&&first&&last.t!==first.t){speedBps=(last.b-first.b)/((last.t-first.t)/1000);}const speedMBs=speedBps/1000000;let etaSec=null;if(speedBps>0&&r.data.total_bytes){const remaining=Math.max(0,r.data.total_bytes-r.data.bytes_written);etaSec=remaining/speedBps;}setDetailedProgress(_objectSpread(_objectSpread({},r.data),{},{_speedMBs:speedMBs,_etaSec:etaSec}));}else{setDetailedProgress(r.data);}}catch(_){/* ignore */}},1200);setActiveTab('progress');};const fetchCertificate=async()=>{const res=await axios.get('http://localhost:8000/certificate',{params:{device_id:selectedDevice,format:'json'}});setCertificate(res.data);};const downloadCert=format=>window.open(\"http://localhost:8000/certificate?device_id=\".concat(encodeURIComponent(selectedDevice),\"&format=\").concat(format),'_blank');const downloadZip=()=>window.open(\"http://localhost:8000/certificate_export?device_id=\".concat(encodeURIComponent(selectedDevice)),'_blank');const verifyErasure=async()=>{setVerification('Verifying...');try{const r=await axios.get('http://localhost:8000/verify_erasure',{params:{device_id:selectedDevice}});setVerification(r.data);}catch(_unused3){setVerification('Verification failed');}};// Effects\nuseEffect(()=>{axios.get('http://localhost:8000/methods').then(r=>setWipeMethods(r.data)).catch(()=>{});},[]);useEffect(()=>{if(consent){fetchDevices();fetchAllowlist();}},[consent,apiKey,detailedMode]);// Reset android-specific selections when leaving Android context\nuseEffect(()=>{if(!isAndroid&&method.startsWith('android_')){setMethod('');setSubMethod('');}},[isAndroid]);useEffect(()=>{if(isAndroid){const serial=selectedDevice.split(':')[1];fetch(\"http://localhost:8000/android_encryption?serial=\".concat(serial)).then(r=>r.json()).then(d=>setAndroidEncryption(d.encrypted?'Encrypted':'Not Encrypted')).catch(()=>setAndroidEncryption(null));}else setAndroidEncryption(null);},[selectedDevice,isAndroid]);useEffect(()=>{if(!isWindowsDrive){setWinBitLocker({status:null,unlocking:false,details:[]});setBitlockerRaw(null);return;}const url=\"http://localhost:8000/bitlocker_status?device_id=\".concat(encodeURIComponent(selectedDevice));fetch(url).then(r=>r.json()).then(d=>{setBitlockerRaw(d);if(Array.isArray(d.results)&&d.results.length){const listStr=d.results.map(x=>\"\".concat(x.drive,\": \").concat(x.status)).join(', ');setWinBitLocker({status:d.status||listStr||'Unknown',unlocking:false,details:d.results});}else{let msg='Unknown';if(d.status==='admin_required')msg='Admin required';else if(d.status==='no_mapping')msg='No mapping';else if(d.status)msg=d.status;else if(d.message)msg=d.message;setWinBitLocker({status:msg,unlocking:false,details:[]});}}).catch(err=>{console.warn('BitLocker status fetch failed',err);setWinBitLocker({status:'Error',unlocking:false,details:[]});setBitlockerRaw({error:String(err)});});},[selectedDevice,isWindowsDrive]);// SMART fetch (Linux only currently)\nuseEffect(()=>{setSmartData(null);const dev=devices.find(d=>d.id===selectedDevice);if(!dev)return;if(dev.type==='Linux'){fetch(\"http://localhost:8000/smart?device_id=\".concat(encodeURIComponent(selectedDevice))).then(r=>r.json()).then(d=>setSmartData(d)).catch(()=>setSmartData(null));}},[selectedDevice,devices]);const t=key=>messages[lang]&&messages[lang][key]||key;// Theme effect\nuseEffect(()=>{const root=document.documentElement;if(theme==='light'){root.classList.remove('dark');}else{root.classList.add('dark');}root.classList.remove('light');if(theme==='light')root.classList.add('light');},[theme]);useEffect(()=>{document.documentElement.lang=lang==='hi'?'hi':'en';},[lang]);// Cleanup progress polling on unmount\nuseEffect(()=>()=>{if(progressPollRef.current)clearInterval(progressPollRef.current);},[]);// Auto-scroll log when new progress arrives\nuseEffect(()=>{if(logRef.current){logRef.current.scrollTop=logRef.current.scrollHeight;}},[progress]);// Device type -> sprite id mapping\nconst deviceIconId=d=>{if(!d)return'icon-drive';const t=(d.type||'').toLowerCase();if(t.includes('windows'))return'icon-windows';if(t.includes('android'))return'icon-android';if(t.includes('linux'))return'icon-linux';if(t.includes('ssd'))return'icon-ssd';if(t.includes('hdd')||t.includes('rotational'))return'icon-hdd';return'icon-drive';};if(!consent){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-eco-gradient px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xl w-full bg-slate-900/80 backdrop-blur rounded-2xl border border-emerald-600/40 p-10 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold eco-gradient-text mb-4\",children:[\"CertiWipe \",t('safetyNotice')]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm leading-relaxed mb-6\",children:t('noticeBody')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:lang,onChange:e=>setLang(e.target.value),className:\"bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi\",children:\"\\u0939\\u093F\\u0928\\u094D\\u0926\\u0940\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTheme(th=>th==='dark'?'light':'dark'),className:\"btn-secondary\",type:\"button\",children:theme==='dark'?'Light':'Dark'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setConsent(true),className:\"btn-primary\",children:t('proceed')})]})});}// Certificate view\nif(certificate){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-950 text-slate-100 p-8 space-y-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"eco-gradient-text\",children:t('eraseComplete')}),\" \",/*#__PURE__*/_jsx(Pill,{children:t('certificate')})]}),/*#__PURE__*/_jsxs(SectionCard,{children:[/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs max-h-[50vh] overflow-auto leading-relaxed\",children:JSON.stringify(certificate,null,2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadCert('pdf'),className:\"btn-primary\",children:t('downloadPdf')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadCert('json'),className:\"btn-secondary\",children:t('downloadJson')}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadZip,className:\"btn-secondary\",children:t('downloadZip')}),/*#__PURE__*/_jsx(\"button\",{onClick:verifyErasure,className:\"btn-secondary\",children:t('verifyErasure')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"btn-danger ml-auto\",children:t('startOver')})]}),verification&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border border-slate-700 rounded-lg p-4 bg-slate-900/60\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-emerald-300\",children:\"Verification Report\"}),typeof verification==='string'?/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs whitespace-pre-wrap\",children:verification}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-[11px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:['entropy_score'in verification&&/*#__PURE__*/_jsxs(\"span\",{children:[t('entropy'),\": \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-emerald-300\",children:verification.entropy_score})]}),'entropy_min'in verification&&verification.entropy_min!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Min: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_min})]}),'entropy_max'in verification&&verification.entropy_max!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Max: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_max})]}),'entropy_stddev'in verification&&verification.entropy_stddev!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u03C3: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_stddev})]}),'confidence'in verification&&/*#__PURE__*/_jsxs(\"span\",{children:[t('confidence'),\": \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-cyan-300\",children:verification.confidence})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Warnings: \",/*#__PURE__*/_jsx(\"strong\",{className:verification.warnings?'text-amber-400':'text-emerald-400',children:verification.warnings})]})]}),verification.entropy_samples&&verification.entropy_samples.length>0&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsxs(\"summary\",{className:\"cursor-pointer\",children:[\"Entropy Samples (\",verification.entropy_samples.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 max-h-40 overflow-auto space-y-1\",children:verification.entropy_samples.slice(0,25).map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"0x\",s.offset.toString(16)]}),/*#__PURE__*/_jsx(\"span\",{children:s.entropy_norm})]},i))})]}),/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer\",children:\"Raw JSON\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-[10px] whitespace-pre-wrap mt-2 max-h-52 overflow-auto\",children:JSON.stringify(verification,null,2)})]}),(certificate===null||certificate===void 0?void 0:certificate.trust_components)&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer\",children:\"Trust Components\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 grid grid-cols-2 gap-1 text-[10px]\",children:Object.entries(certificate.trust_components).map(_ref3=>{let[k,v]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:k}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:v})]},k);})})]})]})]})]})]});}const methodMeta=wipeMethods.find(w=>w.id===method);const disableErase=!selectedDevice||!method||erasing||isAndroid&&!(checklist.adb&&checklist.connected&&checklist.encrypted);// Trust gauge (simple circle) component inline\nconst TrustGauge=_ref4=>{let{value=0}=_ref4;const pct=Math.max(0,Math.min(100,value));const stroke=8;const r=54-stroke;const circ=2*Math.PI*r;const offset=circ-pct/100*circ;return/*#__PURE__*/_jsxs(\"div\",{className:\"trust-gauge\",children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 108 108\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"54\",cy:\"54\",r:r,stroke:\"#1e293b\",strokeWidth:stroke,fill:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"54\",cy:\"54\",r:r,stroke:\"url(#grad)\",strokeLinecap:\"round\",strokeWidth:stroke,fill:\"none\",strokeDasharray:circ,strokeDashoffset:offset}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"grad\",x1:\"0%\",y1:\"0%\",x2:\"100%\",y2:\"0%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#10b981\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"50%\",stopColor:\"#06b6d4\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#0891b2\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"trust-gauge-value\",children:pct})]});};const trustScoreVal=(certificate===null||certificate===void 0?void 0:certificate.trust_score)||(verification===null||verification===void 0?void 0:verification.trust_score)||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen \".concat(theme==='dark'?'dark':'light'),style:{background:'linear-gradient(135deg,var(--bg-gradient-from),var(--bg-gradient-mid),var(--bg-gradient-to))',color:'var(--text-primary)'},children:[/*#__PURE__*/_jsxs(\"header\",{className:\"px-6 md:px-8 pt-6 pb-4 flex flex-col gap-4 md:flex-row md:items-center md:gap-8 bg-eco-animated rounded-b-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl md:text-2xl font-bold eco-gradient-text tracking-wide leading-tight flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FiShield,{className:\"text-emerald-400 drop-shadow\"}),\" CertiWipe Dashboard\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-1 text-[11px] md:text-[10px] uppercase tracking-wider text-slate-400 font-medium\",children:t('dashboardTag')})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex gap-2 overflow-x-auto pr-1 -mx-1 md:mx-0 md:pr-0\",children:['devices','progress','certificates'].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab),className:\"px-4 py-2 rounded-lg text-sm font-medium transition shrink-0 border flex items-center gap-1 \".concat(activeTab===tab?'bg-emerald-600 text-white border-emerald-500 shadow':'bg-slate-800/60 border-slate-700 hover:bg-slate-700/60'),children:[tab==='devices'&&/*#__PURE__*/_jsx(FiHardDrive,{}),tab==='progress'&&/*#__PURE__*/_jsx(FiZap,{}),tab==='certificates'&&/*#__PURE__*/_jsx(FiFileText,{}),tab==='devices'?t('devicesTab'):tab==='progress'?t('progressTab'):t('certificatesTab')]},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:ml-auto flex flex-wrap gap-4 text-[11px] md:text-xs text-slate-400 pt-1 md:pt-0 border-t md:border-t-0 border-slate-800 md:pl-0 pl-1 items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"}),t('devicesLabel'),\": \",devices.length]}),/*#__PURE__*/_jsx(\"input\",{value:apiKey,onChange:e=>setApiKey(e.target.value.trim()),placeholder:\"API Key\",className:\"px-2 py-1 rounded border border-slate-600 bg-slate-800/60 text-xs w-32\"}),/*#__PURE__*/_jsxs(\"span\",{children:[t('methodLabel'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 font-mono\",children:method||'-'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTheme(th=>th==='dark'?'light':'dark'),className:\"px-3 py-1 rounded text-xs border transition flex items-center gap-1 \".concat(theme==='dark'?'bg-slate-800/60 hover:bg-slate-700/60 border-slate-600 text-slate-200':'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'),children:theme==='dark'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiSun,{}),\" Light\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiMoon,{}),\" Dark\"]})}),/*#__PURE__*/_jsxs(\"select\",{value:lang,onChange:e=>setLang(e.target.value),className:\"rounded px-2 py-1 text-xs border transition flex items-center gap-1 pl-7 relative \".concat(theme==='dark'?'bg-slate-800/60 border-slate-600 text-slate-200':'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"EN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi\",children:\"HI\"})]}),trustScoreVal?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrustGauge,{value:trustScoreVal}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] uppercase tracking-wide\",children:\"Trust\"})]}):null]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"px-8 pb-16 space-y-8\",children:[activeTab==='devices'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(SectionCard,{title:t('selectDevice'),icon:FiHardDrive,className:\"lg:col-span-1\",children:[selectedDevice&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 text-[10px] flex items-center gap-2\",children:[allowlist.includes(selectedDevice)?/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded bg-emerald-700/60 text-emerald-200\",children:\"Allowlisted\"}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded bg-amber-700/60 text-amber-200\",children:\"Not Allowlisted\"}),selectedDevice&&!allowlist.includes(selectedDevice)&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/allow_device',null,{params:{device_id:selectedDevice}});setAllowlist(a=>[...a,selectedDevice]);}catch(_unused4){}},className:\"text-[10px] underline text-emerald-300\",children:\"Add\"}),selectedDevice&&allowlist.includes(selectedDevice)&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.delete('http://localhost:8000/allow_device',{params:{device_id:selectedDevice}});setAllowlist(a=>a.filter(d=>d!==selectedDevice));}catch(_unused5){}},className:\"text-[10px] underline text-amber-300\",children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchDevices(),className:\"px-3 py-1.5 text-xs rounded border transition font-medium flex items-center gap-1 \".concat(theme==='dark'?'bg-slate-800 hover:bg-slate-700 border-slate-600 text-slate-200':'bg-white hover:bg-emerald-50 border-slate-300 text-slate-700 shadow-sm'),children:[/*#__PURE__*/_jsx(FiRefreshCcw,{className:\"opacity-80\",size:14}),\" \",t('refresh')]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1 text-[10px] cursor-pointer select-none\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"accent-emerald-500\",checked:detailedMode,onChange:e=>setDetailedMode(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"uppercase tracking-wide\",children:\"Detailed\"})]}),devicesLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-emerald-400 animate-pulse\",children:t('loading')})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDevice,onChange:e=>setSelectedDevice(e.target.value),className:\"w-full rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 border transition \".concat(theme==='dark'?'bg-slate-900 border-slate-700 text-slate-100':'bg-white border-slate-300 text-slate-800 shadow-sm',\" \"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Device --\"}),devices.map(d=>/*#__PURE__*/_jsxs(\"option\",{value:d.id,children:[d.model,\" [\",d.type,\"] (\",d.size||'-',\")\"]},d.id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 flex flex-wrap gap-2\",children:devices.slice(0,6).map(d=>/*#__PURE__*/_jsxs(\"div\",{title:d.model,onClick:()=>setSelectedDevice(d.id),className:\"cursor-pointer p-2 rounded-lg border text-[10px] flex items-center gap-1 transition hover:bg-slate-800/60 \".concat(selectedDevice===d.id?'border-emerald-500 bg-slate-800/60':'border-slate-700'),children:[/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",className:\"shrink-0\",children:/*#__PURE__*/_jsx(\"use\",{href:\"#\".concat(deviceIconId(d))})}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate max-w-[90px]\",children:d.model||d.id})]},d.id))}),selectedDevice&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-xs text-slate-400\",children:[t('selected'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 font-mono break-all\",children:selectedDevice})]}),selectedDevice&&(()=>{const d=devices.find(x=>x.id===selectedDevice);if(!d)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-[11px] bg-slate-900/60 border border-slate-700 rounded-lg p-3 space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-300 font-semibold mb-1 tracking-wide uppercase text-[10px]\",children:\"Device Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-x-4 gap-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Model\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 break-all\",children:d.model||'-'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Type\"}),/*#__PURE__*/_jsx(\"span\",{children:d.type||'-'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Size\"}),/*#__PURE__*/_jsx(\"span\",{children:d.size||(d.size_bytes?(d.size_bytes/1e9).toFixed(2)+'GB':'-')}),d.serial&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Serial\"}),/*#__PURE__*/_jsx(\"span\",{className:\"break-all\",children:d.serial})]}),d.interface&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Interface\"}),/*#__PURE__*/_jsx(\"span\",{children:d.interface})]}),typeof d.rotational==='boolean'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Media\"}),/*#__PURE__*/_jsx(\"span\",{children:d.rotational?'HDD':'SSD/Flash'})]}),d.temperature_c!==undefined&&d.temperature_c!==null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Temp\"}),/*#__PURE__*/_jsxs(\"span\",{children:[d.temperature_c,\"\\xB0C\"]})]}),d.health&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Health\"}),/*#__PURE__*/_jsx(\"span\",{className:d.health==='PASSED'||d.health==='OK'?'text-emerald-400':'text-amber-400',children:d.health})]}),Array.isArray(d.mountpoints)&&d.mountpoints.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Mounts\"}),/*#__PURE__*/_jsx(\"span\",{children:d.mountpoints.join(',')})]}),d.is_system!==undefined&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"System Disk\"}),/*#__PURE__*/_jsx(\"span\",{className:d.is_system?'text-amber-400':'text-emerald-400',children:String(d.is_system)})]})]}),d.encryption&&d.encryption.admin_required&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-[10px] rounded bg-amber-800/40 border border-amber-600/40 px-2 py-1 text-amber-300 flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mt-0.5\",children:\"\\u26A0\"}),/*#__PURE__*/_jsx(\"span\",{children:t('adminPrivilegesNeeded')})]}),isAndroid&&/*#__PURE__*/_jsxs(_Fragment,{children:[d.android_version&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300 flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Android Version\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:d.android_version})]}),typeof d.android_rooted==='boolean'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300 flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Root Access\"}),/*#__PURE__*/_jsx(\"span\",{className:d.android_rooted?'text-emerald-300':'text-amber-300',children:d.android_rooted?'Yes':'No'})]})]}),isAndroid&&d.android_encryption&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uppercase tracking-wide text-slate-400 mb-1\",children:\"Android Encryption\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2 text-emerald-300\",children:d.android_encryption.state||'-'}),/*#__PURE__*/_jsx(\"span\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2\",children:d.android_encryption.type||'-'}),/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2\",children:d.android_encryption.status||'-'})]}),(!d.android_encryption.state||d.android_encryption.state.toLowerCase()!=='encrypted')&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:async()=>{try{const ser=d.id.split(':')[1];const r=await fetch(\"http://localhost:8000/android_encrypt?serial=\".concat(ser),{method:'POST'});const j=await r.json();alert('Encrypt attempt: '+(j.state||j.status));fetchDevices();}catch(e){alert('Encrypt attempt failed');}},className:\"mt-2 px-2 py-1 rounded bg-cyan-600 hover:bg-cyan-500 text-[10px]\",children:\"Enable Encryption\"})]}),d.encryption&&d.encryption.volumes&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-2 text-slate-400\",children:[/*#__PURE__*/_jsxs(\"summary\",{className:\"cursor-pointer\",children:[\"Encryption Volumes (\",d.encryption.volumes.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 max-h-28 overflow-auto space-y-1\",children:d.encryption.volumes.map((v,i)=>{const pct=v.encryption_pct===null||v.encryption_pct===undefined?'—':typeof v.encryption_pct==='number'?v.encryption_pct:v.encryption_pct;const tip=v.details?JSON.stringify({lock_status:v.lock_status,protection:v.details.ProtectionStatus,pct:v.encryption_pct},null,0):v.raw_text?v.raw_text:v.lock_status;return/*#__PURE__*/_jsxs(\"div\",{title:tip,className:\"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 truncate\",children:v.mount}),/*#__PURE__*/_jsx(\"span\",{className:/unlock/i.test(v.lock_status)?'text-emerald-300':'text-amber-300',children:v.lock_status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] rounded bg-slate-900/60 px-1 py-0.5 text-slate-400 min-w-8 text-center\",children:[pct,pct!=='—'&&typeof pct==='number'?'%':'']})]},i);})})]})]});})(),selectedDevice&&smartData&&smartData.supported!==false&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 space-y-2\",children:smartData&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-300 bg-slate-900/60 p-2 rounded border border-slate-700\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-[11px]\",children:\"SMART / Health\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-1 text-[11px]\",children:['temperature_c'in smartData&&smartData.temperature_c!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Temp: \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-emerald-300\",children:[smartData.temperature_c,\"\\xB0C\"]})]}),'health'in smartData&&smartData.health&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Health: \",/*#__PURE__*/_jsx(\"span\",{className:smartData.health==='PASSED'||smartData.health==='OK'?'text-emerald-400':'text-amber-400',children:smartData.health})]}),Array.isArray(smartData.interesting_attributes)&&smartData.interesting_attributes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] uppercase tracking-wide text-slate-400\",children:\"Attributes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-32 overflow-auto mt-1 space-y-1\",children:smartData.interesting_attributes.map((a,i)=>{var _ref5,_a$raw$value,_a$raw;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between gap-2 text-[10px] bg-slate-800/50 px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{children:a.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:(_ref5=(_a$raw$value=(_a$raw=a.raw)===null||_a$raw===void 0?void 0:_a$raw.value)!==null&&_a$raw$value!==void 0?_a$raw$value:a.value)!==null&&_ref5!==void 0?_ref5:'-'})]},i);})})]}),smartData.error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-amber-400 text-[10px]\",children:smartData.error}),smartData.supported===false&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-500 text-[10px]\",children:[\"SMART not supported: \",smartData.reason]}),/*#__PURE__*/_jsxs(\"details\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-[10px] text-slate-400\",children:\"Raw (truncated)\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-[9px] max-h-32 overflow-auto whitespace-pre-wrap\",children:JSON.stringify(smartData.raw?smartData.raw.device?smartData.raw.device:smartData.raw:smartData,null,2).slice(0,3000)})]})]})]})})]}),/*#__PURE__*/_jsxs(SectionCard,{title:t('wipeMethod'),icon:FiCpu,className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsxs(\"select\",{value:method,onChange:e=>setMethod(e.target.value),className:\"w-full rounded px-3 py-2 text-sm border transition \".concat(theme==='dark'?'bg-slate-900 border-slate-700 text-slate-100':'bg-white border-slate-300 text-slate-800 shadow-sm',\" \"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Method --\"}),wipeMethods.filter(m=>{if(!isAndroid)return!m.id.startsWith('android_');// hide android_* on non-Android\nreturn['android_root','android_unroot'].includes(m.id);}).map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m.id,children:[m.label||m.id,\" (\",m.passes,\" pass\",m.passes>1?'es':'',\")\"]},m.id))]}),isAndroid&&method==='android_unroot'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-[10px] mb-1 text-slate-400 uppercase tracking-wide\",children:\"Sub Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:subMethod,onChange:e=>setSubMethod(e.target.value),className:\"w-full rounded px-3 py-2 text-sm border transition \".concat(theme==='dark'?'bg-slate-900 border-slate-700 text-slate-100':'bg-white border-slate-300 text-slate-800 shadow-sm'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"auto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shunyawipe\",children:\"shunyawipe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"multi-pass\",children:\"multi-pass\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dod_5220_22m\",children:\"dod_5220_22m\"})]})]}),methodMeta&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-xs leading-relaxed text-slate-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-emerald-300 mb-1\",children:methodMeta.label}),/*#__PURE__*/_jsx(\"div\",{children:methodMeta.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsxs(Pill,{children:[methodMeta.passes,\" pass\",methodMeta.passes>1?'es':'']}),/*#__PURE__*/_jsxs(Pill,{tone:\"cyan\",children:[\"Energy:\",Math.round((methodMeta.energy_factor||1)*100),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(SectionCard,{title:t('preconditions'),icon:FiLock,className:\"lg:col-span-1 space-y-4\",children:[isAndroid&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-cyan-300\",children:t('androidChecklist')}),['adb','connected','encrypted'].map(key=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"accent-emerald-500\",checked:checklist[key],onChange:e=>setChecklist(c=>_objectSpread(_objectSpread({},c),{},{[key]:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:key})]},key)),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[10px] text-slate-400 mt-1\",children:[\"Encryption status: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:androidEncryption||'...'})]})]}),isWindowsDrive&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-cyan-300\",children:t('windowsBitlocker')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[t('status'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:winBitLocker.status||'...'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:winBitLocker.details.filter(r=>r.status==='Locked').map(r=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setUnlockModal({open:true,drive:r.drive,method:'password',value:''}),className:\"px-2 py-1 text-[10px] rounded bg-amber-600/70 hover:bg-amber-600\",children:[\"Unlock \",r.drive]},r.drive))}),/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400 text-[10px]\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer mt-1\",children:\"Debug: Raw BitLocker Response\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const url=\"http://localhost:8000/bitlocker_status?device_id=\".concat(encodeURIComponent(selectedDevice));fetch(url).then(r=>r.json()).then(d=>{setBitlockerRaw(d);}).catch(e=>setBitlockerRaw({error:String(e)}));},className:\"px-2 py-1 rounded bg-slate-700 hover:bg-slate-600 text-[10px]\",children:\"Refresh\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"max-h-40 overflow-auto bg-slate-900/70 p-2 rounded border border-slate-700 whitespace-pre-wrap\",children:bitlockerRaw?JSON.stringify(bitlockerRaw,null,2):'No data yet'})]})]})]}),!isAndroid&&!isWindowsDrive&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:t('noSpecial')}),/*#__PURE__*/_jsx(\"button\",{disabled:disableErase,onClick:startErase,className:\"w-full mt-4 px-4 py-2 rounded font-medium text-sm transition flex items-center justify-center gap-2 \".concat(disableErase?'bg-slate-700 text-slate-400 cursor-not-allowed':'bg-gradient-to-r from-emerald-600 to-cyan-600 text-white hover:brightness-110 shadow pulse-ring',\" \"),children:erasing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiZap,{className:\"animate-pulse\"}),\" \",t('erasing')]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiPlay,{}),\" \",t('startErase')]})}),erasing&&/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] text-emerald-400 animate-pulse\",children:t('doNotDisconnect')})]})]}),activeTab==='progress'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(SectionCard,{title:t('realTimeProgress'),className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{ref:logRef,className:\"text-[11px] leading-snug max-h-[50vh] overflow-auto font-mono whitespace-pre-wrap thin-scrollbar\",style:{minHeight:'200px'},children:progress.join('\\n')||t('noActivity')})}),/*#__PURE__*/_jsxs(SectionCard,{title:\"Detailed Metrics\",className:\"lg:col-span-1\",children:[!detailedProgress&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400\",children:\"Awaiting progress...\"}),detailedProgress&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-emerald-300\",children:detailedProgress.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pass\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.min(detailedProgress.pass_index,detailedProgress.passes_total),\"/\",detailedProgress.passes_total,detailedProgress.current_pattern?\" (\".concat(detailedProgress.current_pattern,\")\"):'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Bytes\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(detailedProgress.bytes_written/1e9).toFixed(2),\" / \",(detailedProgress.total_bytes/1e9).toFixed(2),\" GB\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Percent\"}),/*#__PURE__*/_jsxs(\"span\",{children:[detailedProgress.total_bytes?(detailedProgress.bytes_written/detailedProgress.total_bytes*100).toFixed(1):'0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Speed\"}),/*#__PURE__*/_jsxs(\"span\",{children:[detailedProgress._speedMBs?detailedProgress._speedMBs.toFixed(1):'0.0',\" MB/s\"]})]}),detailedProgress._etaSec!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"ETA\"}),/*#__PURE__*/_jsx(\"span\",{children:detailedProgress._etaSec>7200?'>2h':detailedProgress._etaSec>3600?'>1h':new Date(detailedProgress._etaSec*1000).toISOString().substr(11,8)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2.5 w-full rounded bg-slate-700 overflow-hidden flex\",children:Array.from({length:detailedProgress.passes_total}).map((_,i)=>{const isDone=i<(detailedProgress.pass_index||0);const isCurrent=i===(detailedProgress.pass_index||0);const patternLabel=detailedProgress.pass_patterns&&detailedProgress.pass_patterns[i]?detailedProgress.pass_patterns[i]:'';const title=isDone?\"Pass \".concat(i+1,\" \").concat(patternLabel,\" complete\"):isCurrent?\"Pass \".concat(i+1,\" \").concat(patternLabel,\" active\"):\"Pass \".concat(i+1,\" \").concat(patternLabel,\" pending\");return/*#__PURE__*/_jsx(\"div\",{title:title,className:\"h-full transition-all duration-300 \".concat(isDone?'bg-emerald-500':isCurrent?'bg-cyan-500 animate-pulse':'bg-slate-600/60'),style:{flex:1,marginRight:i===detailedProgress.passes_total-1?0:2,opacity:isCurrent?1:undefined}},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-[10px] tracking-wide uppercase text-slate-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pass Segments\"}),detailedProgress.total_bytes?/*#__PURE__*/_jsxs(\"span\",{children:[(detailedProgress.bytes_written/detailedProgress.total_bytes*100).toFixed(1),\"%\"]}):/*#__PURE__*/_jsx(\"span\",{children:\"0%\"})]})]}),detailedProgress.verified!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Verified\"}),/*#__PURE__*/_jsx(\"span\",{className:detailedProgress.verified?'text-emerald-400':'text-amber-400',children:String(detailedProgress.verified)})]}),detailedProgress.completed_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(detailedProgress.completed_at).toLocaleTimeString()})]}),!detailedProgress.completed_at&&detailedProgress.status!=='cancelled'&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/cancel',null,{params:{device_id:selectedDevice}});}catch(e){}},className:\"w-full mt-2 px-2 py-1.5 rounded bg-amber-600 hover:bg-amber-500 text-[11px] font-medium\",children:\"Cancel\"}),detailedProgress&&detailedProgress.status==='running'&&!erasing&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method:detailedProgress.method,resume:true});setProgress(p=>[...p,'Resume requested...']);}catch(_unused6){setProgress(p=>[...p,'Resume failed']);}},className:\"w-full mt-2 px-2 py-1.5 rounded bg-cyan-600 hover:bg-cyan-500 text-[11px] font-medium\",children:\"Resume\"})]})]})]}),activeTab==='certificates'&&/*#__PURE__*/_jsx(\"div\",{className:\"fade-slide-in\",children:/*#__PURE__*/_jsx(CertificatesList,{LottieEmpty:/*#__PURE__*/_jsx(Player,{autoplay:true,loop:true,src:emptyAnim,style:{height:140}})})})]}),unlockModal.open&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 eco-gradient-text\",children:[\"Unlock BitLocker (\",unlockModal.drive,\")\"]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs mb-2 font-medium\",children:\"Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:unlockModal.method,onChange:e=>setUnlockModal(m=>_objectSpread(_objectSpread({},m),{},{method:e.target.value,value:''})),className:\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-4\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recovery_key\",children:\"Recovery Key\"}),/*#__PURE__*/_jsx(\"option\",{value:\"numerical_password\",children:\"Numerical Password\"}),/*#__PURE__*/_jsx(\"option\",{value:\"key_file\",children:\"Key File (.BEK)\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs mb-2 font-medium\",children:unlockModal.method==='key_file'?'Key File Path':'Value'}),/*#__PURE__*/_jsx(\"input\",{value:unlockModal.value,onChange:e=>setUnlockModal(m=>_objectSpread(_objectSpread({},m),{},{value:e.target.value})),placeholder:unlockModal.method==='key_file'?'C:\\\\path\\\\to\\\\keyfile.BEK':'Enter value',className:\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(!unlockModal.value.trim())return alert('Enter a value');const body={device_id:unlockModal.drive,[unlockModal.method]:unlockModal.value};try{const res=await fetch('http://localhost:8000/bitlocker_unlock',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const data=await res.json();if(data.status==='Unlocked'){setWinBitLocker(w=>{var _w$status;return _objectSpread(_objectSpread({},w),{},{status:(_w$status=w.status)===null||_w$status===void 0?void 0:_w$status.replace(\"\".concat(unlockModal.drive,\": Locked\"),\"\".concat(unlockModal.drive,\": Unlocked\"))});});setUnlockModal({open:false,drive:'',method:'password',value:''});}else alert('Unlock failed');}catch(e){alert('Unlock failed');}},className:\"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-sm font-medium\",children:\"Unlock\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUnlockModal({open:false,drive:'',method:'password',value:''}),className:\"px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm\",children:\"Cancel\"})]})]})})]});}function CertificatesList(_ref6){let{LottieEmpty}=_ref6;const[certs,setCerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetch('http://localhost:8000/certificates').then(r=>r.json()).then(d=>{setCerts(d);setLoading(false);}).catch(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(SectionCard,{title:\"Certificates\",children:\"Loading...\"});if(!certs.length)return/*#__PURE__*/_jsx(SectionCard,{title:\"Certificates\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-6 gap-3 text-slate-400 text-xs\",children:[LottieEmpty,/*#__PURE__*/_jsx(\"p\",{children:\"No certificates yet.\"})]})});return/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 xl:grid-cols-3 gap-6\",children:certs.map(c=>{var _c$eco,_c$eco2,_c$eco$energy_kwh_est,_c$eco3,_c$eco$co2_kg_est,_c$log_hash;return/*#__PURE__*/_jsxs(\"div\",{className:\"eco-card border border-slate-700/70 hover-rise relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 pointer-events-none opacity-0 hover:opacity-100 transition bg-gradient-to-br from-emerald-500/5 via-cyan-500/5 to-transparent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-sm text-emerald-300 truncate flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"18\",height:\"18\",children:/*#__PURE__*/_jsx(\"use\",{href:\"#icon-drive\"})}),c.device_id]}),/*#__PURE__*/_jsx(Pill,{tone:\"cyan\",children:c.method})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[11px] space-y-1 text-slate-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"TrustScore: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-400 font-medium\",children:c.trust_score})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Passes: \",c.passes]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Eco: \",(_c$eco=c.eco)===null||_c$eco===void 0?void 0:_c$eco.ewaste_kg_risk_reduced,\" kg reduced\"]}),((_c$eco2=c.eco)===null||_c$eco2===void 0?void 0:_c$eco2.energy_kwh_est)!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Energy: \",(_c$eco$energy_kwh_est=c.eco.energy_kwh_est)!==null&&_c$eco$energy_kwh_est!==void 0?_c$eco$energy_kwh_est:'-',\" kWh\"]}),((_c$eco3=c.eco)===null||_c$eco3===void 0?void 0:_c$eco3.co2_kg_est)!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[\"CO\\u2082: \",(_c$eco$co2_kg_est=c.eco.co2_kg_est)!==null&&_c$eco$co2_kg_est!==void 0?_c$eco$co2_kg_est:'-',\" kg\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"truncate\",children:[\"Hash: \",(_c$log_hash=c.log_hash)===null||_c$log_hash===void 0?void 0:_c$log_hash.slice(0,20),\"...\"]})]})]},c.log_hash||c.device_id);})});}// Ensure default export (was removed during refactor)\nexport default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","FiRefreshCcw","FiHardDrive","FiShield","FiPlay","FiMoon","FiSun","FiLock","FiZap","FiCpu","FiFileText","motion","AnimatePresence","Player","completionAnim","emptyAnim","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fadeVariant","hidden","opacity","y","visible","transition","duration","ease","SectionCard","_ref","title","children","className","icon","Icon","div","variants","initial","animate","concat","size","toneMap","emerald","cyan","amber","Pill","_ref2","tone","messages","en","safetyNotice","proceed","selectDevice","wipeMethod","preconditions","startErase","erasing","noSpecial","noticeBody","dashboardTag","eraseComplete","certificate","downloadPdf","downloadJson","downloadZip","energy","carbon","entropy","confidence","ecoImpact","energyReduced","co2Reduced","verificationSummary","verifyErasure","startOver","refresh","loading","selected","devicesLabel","methodLabel","androidChecklist","windowsBitlocker","status","encryptionStatus","unlock","cancel","value","keyFilePath","trust","realTimeProgress","noActivity","certificatesTab","devicesTab","progressTab","noCertificates","doNotDisconnect","adminPrivilegesNeeded","hi","App","unlockModal","setUnlockModal","open","drive","method","consent","setConsent","theme","setTheme","lang","setLang","devices","setDevices","apiKey","setApiKey","devicesLoading","setDevicesLoading","selectedDevice","setSelectedDevice","setMethod","subMethod","setSubMethod","progress","setProgress","setErasing","setCertificate","checklist","setChecklist","adb","connected","encrypted","androidEncryption","setAndroidEncryption","winBitLocker","setWinBitLocker","unlocking","details","bitlockerRaw","setBitlockerRaw","wipeMethods","setWipeMethods","activeTab","setActiveTab","verification","setVerification","allowlist","setAllowlist","smartData","setSmartData","detailedMode","setDetailedMode","wsRef","progressPollRef","detailedProgress","setDetailedProgress","progressHistoryRef","logRef","existing","document","getElementById","fetch","then","r","text","txt","createElement","id","style","display","innerHTML","body","appendChild","catch","isAndroid","find","d","type","startsWith","isWindowsDrive","fetchDevices","detailedParam","detailed","res","get","params","api_key","undefined","data","e","fetchAllowlist","_unused","current","window","WebSocket","encodeURIComponent","onmessage","event","p","test","close","fetchCertificate","onerror","post","device_id","sub_method","response","a","Set","_unused2","message","clearInterval","setInterval","now","Date","bytes_written","push","t","b","length","shift","first","last","speedBps","speedMBs","etaSec","total_bytes","remaining","Math","max","_objectSpread","_speedMBs","_etaSec","_","format","downloadCert","_unused3","serial","split","json","url","Array","isArray","results","listStr","map","x","join","msg","err","console","warn","error","String","dev","key","root","documentElement","classList","remove","add","scrollTop","scrollHeight","deviceIconId","toLowerCase","includes","onChange","target","onClick","th","JSON","stringify","location","reload","entropy_score","entropy_min","entropy_max","entropy_stddev","warnings","entropy_samples","slice","s","i","offset","toString","entropy_norm","trust_components","Object","entries","_ref3","k","v","methodMeta","w","disableErase","TrustGauge","_ref4","pct","min","stroke","circ","PI","viewBox","cx","cy","strokeWidth","fill","strokeLinecap","strokeDasharray","strokeDashoffset","x1","y1","x2","y2","stopColor","trustScoreVal","trust_score","background","color","tab","trim","placeholder","_unused4","delete","filter","_unused5","checked","model","width","height","href","size_bytes","toFixed","interface","rotational","temperature_c","health","mountpoints","is_system","encryption","admin_required","android_version","android_rooted","android_encryption","state","ser","j","alert","volumes","encryption_pct","tip","lock_status","protection","ProtectionStatus","raw_text","mount","supported","interesting_attributes","_ref5","_a$raw$value","_a$raw","name","raw","reason","device","m","label","passes","description","round","energy_factor","c","disabled","ref","minHeight","pass_index","passes_total","current_pattern","toISOString","substr","from","isDone","isCurrent","patternLabel","pass_patterns","flex","marginRight","verified","completed_at","toLocaleTimeString","resume","_unused6","CertificatesList","LottieEmpty","autoplay","loop","src","headers","_w$status","replace","_ref6","certs","setCerts","setLoading","_c$eco","_c$eco2","_c$eco$energy_kwh_est","_c$eco3","_c$eco$co2_kg_est","_c$log_hash","eco","ewaste_kg_risk_reduced","energy_kwh_est","co2_kg_est","log_hash"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/sih 2025/secure-wipe-frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FiRefreshCcw, FiHardDrive, FiShield, FiPlay, FiMoon, FiSun, FiLock, FiZap, FiCpu, FiFileText } from 'react-icons/fi';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Player } from '@lottiefiles/react-lottie-player';\r\nimport completionAnim from './assets/completion.json';\r\nimport emptyAnim from './assets/empty.json';\r\n\r\n// Rewritten clean implementation (old duplicated code removed)\r\n\r\nconst fadeVariant = {\r\n  hidden: { opacity:0, y:8 },\r\n  visible: { opacity:1, y:0, transition:{ duration:.45, ease:[.25,.1,.25,1] } }\r\n};\r\n\r\nconst SectionCard = ({ title, children, className = '', icon:Icon }) => (\r\n  <motion.div variants={fadeVariant} initial=\"hidden\" animate=\"visible\" className={`eco-card hover-rise ${className}`}>\r\n    {title && (\r\n      <h3 className=\"text-lg font-semibold mb-3 tracking-wide text-emerald-300 flex items-center gap-2\">\r\n        {Icon && <Icon className=\"text-emerald-400\" size={18} />}{title}\r\n      </h3>\r\n    )}\r\n    {children}\r\n  </motion.div>\r\n);\r\n\r\nconst toneMap = {\r\n  emerald: 'bg-emerald-900/40 border-emerald-600/40 text-emerald-300',\r\n  cyan: 'bg-cyan-900/40 border-cyan-600/40 text-cyan-300',\r\n  amber: 'bg-amber-900/40 border-amber-600/40 text-amber-300'\r\n};\r\nconst Pill = ({ children, tone='emerald' }) => (\r\n  <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${toneMap[tone] || toneMap.emerald}`}>{children}</span>\r\n);\r\n\r\n// Simple i18n dictionary scaffold (en + hi)\r\nconst messages = {\r\n  en: {\r\n    safetyNotice: 'Safety Notice',\r\n    proceed: 'I Understand – Continue',\r\n    selectDevice: '1. Select Device',\r\n    wipeMethod: '2. Wipe Method',\r\n    preconditions: '3. Preconditions',\r\n    startErase: 'Start Erase',\r\n    erasing: 'Erasing...',\r\n    noSpecial: 'No special preconditions.',\r\n  noticeBody: 'This process will irreversibly remove data from selected storage devices. Ensure you have backups before you proceed.',\r\n  dashboardTag: 'Certified Eco & Trust Erasure',\r\n  eraseComplete: 'Erase Complete',\r\n  certificate: 'Certificate',\r\n  downloadPdf: 'Download PDF',\r\n  downloadJson: 'Download JSON',\r\n  downloadZip: 'Download Bundle (ZIP)',\r\n  energy: 'Energy',\r\n  carbon: 'CO₂',\r\n  entropy: 'Entropy',\r\n  confidence: 'Confidence',\r\n  ecoImpact: 'Eco Impact',\r\n  energyReduced: 'Energy Used',\r\n  co2Reduced: 'CO₂ Estimated',\r\n  verificationSummary: 'Verification Summary',\r\n  verifyErasure: 'Verify Erasure',\r\n  startOver: 'Start Over',\r\n  refresh: 'Refresh',\r\n  loading: 'Loading...',\r\n  selected: 'Selected',\r\n  devicesLabel: 'Devices',\r\n  methodLabel: 'Method',\r\n  androidChecklist: 'Android Checklist',\r\n  windowsBitlocker: 'Windows / BitLocker',\r\n  status: 'Status',\r\n  encryptionStatus: 'Encryption status',\r\n  unlock: 'Unlock',\r\n  cancel: 'Cancel',\r\n  value: 'Value',\r\n  keyFilePath: 'Key File Path',\r\n  trust: 'Trust',\r\n  realTimeProgress: 'Real-Time Progress',\r\n  noActivity: 'No activity yet.',\r\n  certificatesTab: 'CERTIFICATES',\r\n  devicesTab: 'DEVICES',\r\n  progressTab: 'PROGRESS',\r\n  noCertificates: 'No certificates yet.',\r\n  doNotDisconnect: 'Do not disconnect device...' \r\n  , adminPrivilegesNeeded: 'Run backend as Administrator to view full BitLocker encryption status.'\r\n  },\r\n  hi: {\r\n    safetyNotice: 'सुरक्षा सूचना',\r\n    proceed: 'मैं समझता हूँ – आगे बढ़ें',\r\n    selectDevice: '१. डिवाइस चुनें',\r\n    wipeMethod: '२. वाइप विधि',\r\n    preconditions: '३. पूर्व शर्तें',\r\n    startErase: 'मिटाना शुरू करें',\r\n    erasing: 'मिटाया जा रहा है...',\r\n    noSpecial: 'कोई विशेष पूर्व शर्त नहीं।',\r\n  noticeBody: 'यह प्रक्रिया चयनित स्टोरेज डिवाइसों से डेटा को स्थायी रूप से हटा देगी। आगे बढ़ने से पहले अपने बैकअप सुनिश्चित करें।',\r\n  dashboardTag: 'प्रमाणित ईको एवं ट्रस्ट इरेज़र',\r\n  eraseComplete: 'मिटाना पूर्ण',\r\n  certificate: 'प्रमाणपत्र',\r\n  downloadPdf: 'PDF डाउनलोड',\r\n  downloadJson: 'JSON डाउनलोड',\r\n  downloadZip: 'ZIP बंडल डाउनलोड',\r\n  energy: 'ऊर्जा',\r\n  carbon: 'CO₂',\r\n  entropy: 'एंट्रॉपी',\r\n  confidence: 'विश्वास स्तर',\r\n  ecoImpact: 'ईको प्रभाव',\r\n  energyReduced: 'ऊर्जा उपयोग',\r\n  co2Reduced: 'अनुमानित CO₂',\r\n  verificationSummary: 'सत्यापन सारांश',\r\n  verifyErasure: 'मिटाने की पुष्टि',\r\n  startOver: 'फिर से शुरू करें',\r\n  refresh: 'रिफ्रेश',\r\n  loading: 'लोड हो रहा है...',\r\n  selected: 'चयनित',\r\n  devicesLabel: 'डिवाइस',\r\n  methodLabel: 'विधि',\r\n  androidChecklist: 'एंड्रॉइड चेकलिस्ट',\r\n  windowsBitlocker: 'विंडोज / बिटलॉकर',\r\n  status: 'स्थिति',\r\n  encryptionStatus: 'एन्क्रिप्शन स्थिति',\r\n  unlock: 'अनलॉक',\r\n  cancel: 'रद्द',\r\n  value: 'मान',\r\n  keyFilePath: 'की फ़ाइल पथ',\r\n  trust: 'विश्वास',\r\n  realTimeProgress: 'रीयल-टाइम प्रगति',\r\n  noActivity: 'अभी तक कोई गतिविधि नहीं।',\r\n  certificatesTab: 'प्रमाणपत्र',\r\n  devicesTab: 'डिवाइस',\r\n  progressTab: 'प्रगति',\r\n  noCertificates: 'कोई प्रमाणपत्र नहीं।',\r\n  doNotDisconnect: 'डिवाइस को न हटाएँ...' \r\n  , adminPrivilegesNeeded: 'पूर्ण बिटलॉकर एन्क्रिप्शन स्थिति देखने के लिए बैकएंड को प्रशासक अधिकारों (Administrator) के साथ चलाएँ।'\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [unlockModal, setUnlockModal] = useState({ open: false, drive: '', method: 'password', value: '' });\r\n  const [consent, setConsent] = useState(false);\r\n  const [theme, setTheme] = useState('dark');\r\n  const [lang, setLang] = useState('en');\r\n  const [devices, setDevices] = useState([]);\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [devicesLoading, setDevicesLoading] = useState(false);\r\n  const [selectedDevice, setSelectedDevice] = useState('');\r\n  const [method, setMethod] = useState('');\r\n  const [subMethod, setSubMethod] = useState('');\r\n  const [progress, setProgress] = useState([]);\r\n  const [erasing, setErasing] = useState(false);\r\n  const [certificate, setCertificate] = useState(null);\r\n  const [checklist, setChecklist] = useState({ adb: false, connected: false, encrypted: false });\r\n  const [androidEncryption, setAndroidEncryption] = useState(null);\r\n  const [winBitLocker, setWinBitLocker] = useState({ status: null, unlocking: false, details: [] });\r\n  const [bitlockerRaw, setBitlockerRaw] = useState(null);\r\n  const [wipeMethods, setWipeMethods] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('devices');\r\n  const [verification, setVerification] = useState(null);\r\n  const [allowlist, setAllowlist] = useState([]);\r\n  const [smartData, setSmartData] = useState(null);\r\n  const [detailedMode, setDetailedMode] = useState(true);\r\n  const wsRef = useRef(null);\r\n  const progressPollRef = useRef(null);\r\n  const [detailedProgress, setDetailedProgress] = useState(null);\r\n  const progressHistoryRef = useRef([]); // for speed & ETA smoothing\r\n  const logRef = useRef(null);\r\n\r\n  // Inline injection of SVG sprite once\r\n  useEffect(()=>{\r\n    const existing = document.getElementById('device-icon-sprite');\r\n    if(!existing){\r\n      fetch('/device-icons.svg').then(r=>r.text()).then(txt=>{\r\n        const div = document.createElement('div');\r\n        div.id='device-icon-sprite';\r\n        div.style.display='none';\r\n        div.innerHTML = txt; // safe - controlled asset\r\n        document.body.appendChild(div);\r\n      }).catch(()=>{});\r\n    }\r\n  },[]);\r\n\r\n  const isAndroid = devices.find(d => d.id === selectedDevice && d.type && d.type.startsWith('Android'));\r\n  // Adjusted: backend now returns type 'Windows' for Windows disks\r\n  const isWindowsDrive = devices.find(d => d.id === selectedDevice && (d.type === 'Windows' || d.type === 'SSD' || d.type === 'HDD'));\r\n\r\n  const fetchDevices = async (detailedParam) => {\r\n    const detailed = (typeof detailedParam === 'boolean') ? detailedParam : detailedMode;\r\n    setDevicesLoading(true);\r\n    try {\r\n      const res = await axios.get('http://localhost:8000/devices', { params:{ detailed, api_key: apiKey || undefined }});\r\n      setDevices(res.data);\r\n    } catch(e){ /* ignore */ } finally { setDevicesLoading(false); }\r\n  };\r\n  const fetchAllowlist = async () => { try { const r = await axios.get('http://localhost:8000/allowlist', { params:{ api_key: apiKey || undefined }}); setAllowlist(r.data);} catch { /* ignore */ } };\r\n\r\n  const startErase = async () => {\r\n    setErasing(true);\r\n    setProgress([`▶ Starting erase ${selectedDevice} with method ${method}`]);\r\n    wsRef.current = new window.WebSocket(`ws://localhost:8000/logs/${encodeURIComponent(selectedDevice)}`);\r\n    wsRef.current.onmessage = (event) => {\r\n      setProgress(p => [...p, event.data]);\r\n      if (/Certificate generated/i.test(event.data)) { wsRef.current.close(); setErasing(false); fetchCertificate(); }\r\n    };\r\n    wsRef.current.onerror = () => setProgress(p => [...p, '⚠ WebSocket error']);\r\n    try {\r\n  await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method, sub_method: subMethod || undefined });\r\n    } catch (e) {\r\n      if (e.response && e.response.status === 412) {\r\n        // auto-add then retry\r\n        try {\r\n          await axios.post('http://localhost:8000/allow_device', null, { params:{ device_id: selectedDevice }});\r\n          setAllowlist(a=>[...new Set([...a, selectedDevice])]);\r\n          await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method, sub_method: subMethod || undefined });\r\n          setProgress(p=>[...p,'Added to allowlist and restarted erase.']);\r\n        } catch {\r\n          setProgress(p=>[...p,'Failed to auto-add device to allowlist.']);\r\n        }\r\n      } else {\r\n        setProgress(p=>[...p, `Erase start error: ${e.message}`]);\r\n      }\r\n    }\r\n    // Start polling detailed progress\r\n    if (progressPollRef.current) clearInterval(progressPollRef.current);\r\n    progressPollRef.current = setInterval(async () => {\r\n      try {\r\n        const r = await axios.get('http://localhost:8000/progress_detailed', { params:{ device_id: selectedDevice }});\r\n        const now = Date.now();\r\n        if (r.data && typeof r.data.bytes_written === 'number') {\r\n          progressHistoryRef.current.push({ t: now, b: r.data.bytes_written });\r\n          if (progressHistoryRef.current.length > 10) progressHistoryRef.current.shift();\r\n          const first = progressHistoryRef.current[0];\r\n          const last = progressHistoryRef.current[progressHistoryRef.current.length -1];\r\n          let speedBps = 0;\r\n          if (last && first && last.t !== first.t) {\r\n            speedBps = (last.b - first.b) / ((last.t - first.t)/1000);\r\n          }\r\n          const speedMBs = speedBps/1_000_000;\r\n          let etaSec = null;\r\n          if (speedBps > 0 && r.data.total_bytes) {\r\n            const remaining = Math.max(0, r.data.total_bytes - r.data.bytes_written);\r\n            etaSec = remaining / speedBps;\r\n          }\r\n          setDetailedProgress({ ...r.data, _speedMBs: speedMBs, _etaSec: etaSec });\r\n        } else {\r\n          setDetailedProgress(r.data);\r\n        }\r\n      } catch (_) { /* ignore */ }\r\n    }, 1200);\r\n    setActiveTab('progress');\r\n  };\r\n\r\n  const fetchCertificate = async () => {\r\n    const res = await axios.get('http://localhost:8000/certificate', { params: { device_id: selectedDevice, format: 'json' } });\r\n            setCertificate(res.data);\r\n          };\r\n  const downloadCert = (format) => window.open(`http://localhost:8000/certificate?device_id=${encodeURIComponent(selectedDevice)}&format=${format}`, '_blank');\r\n  const downloadZip = () => window.open(`http://localhost:8000/certificate_export?device_id=${encodeURIComponent(selectedDevice)}`, '_blank');\r\n  const verifyErasure = async () => { setVerification('Verifying...'); try { const r = await axios.get('http://localhost:8000/verify_erasure', { params:{ device_id: selectedDevice }}); setVerification(r.data);} catch { setVerification('Verification failed'); } };\r\n\r\n  // Effects\r\n  useEffect(() => { axios.get('http://localhost:8000/methods').then(r => setWipeMethods(r.data)).catch(()=>{}); }, []);\r\n  useEffect(() => { if (consent) { fetchDevices(); fetchAllowlist(); } }, [consent, apiKey, detailedMode]);\r\n  // Reset android-specific selections when leaving Android context\r\n  useEffect(()=>{\r\n    if(!isAndroid && method.startsWith('android_')) { setMethod(''); setSubMethod(''); }\r\n  }, [isAndroid]);\r\n  useEffect(() => { if (isAndroid) { const serial = selectedDevice.split(':')[1]; fetch(`http://localhost:8000/android_encryption?serial=${serial}`).then(r=>r.json()).then(d=> setAndroidEncryption(d.encrypted?'Encrypted':'Not Encrypted')).catch(()=>setAndroidEncryption(null)); } else setAndroidEncryption(null); }, [selectedDevice, isAndroid]);\r\n  useEffect(() => {\r\n    if (!isWindowsDrive) { setWinBitLocker({ status:null, unlocking:false, details:[] }); setBitlockerRaw(null); return; }\r\n    const url = `http://localhost:8000/bitlocker_status?device_id=${encodeURIComponent(selectedDevice)}`;\r\n    fetch(url)\r\n      .then(r=>r.json())\r\n      .then(d=>{\r\n        setBitlockerRaw(d);\r\n        if (Array.isArray(d.results) && d.results.length) {\r\n          const listStr = d.results.map(x=>`${x.drive}: ${x.status}`).join(', ');\r\n          setWinBitLocker({ status: d.status || listStr || 'Unknown', unlocking:false, details:d.results });\r\n        } else {\r\n          let msg = 'Unknown';\r\n          if (d.status === 'admin_required') msg = 'Admin required';\r\n          else if (d.status === 'no_mapping') msg = 'No mapping';\r\n          else if (d.status) msg = d.status;\r\n          else if (d.message) msg = d.message;\r\n          setWinBitLocker({ status: msg, unlocking:false, details: [] });\r\n        }\r\n      })\r\n      .catch(err=> { console.warn('BitLocker status fetch failed', err); setWinBitLocker({ status:'Error', unlocking:false, details:[] }); setBitlockerRaw({ error: String(err) }); });\r\n  }, [selectedDevice, isWindowsDrive]);\r\n  // SMART fetch (Linux only currently)\r\n  useEffect(()=>{\r\n    setSmartData(null);\r\n    const dev = devices.find(d=>d.id===selectedDevice);\r\n    if(!dev) return;\r\n    if(dev.type === 'Linux'){\r\n      fetch(`http://localhost:8000/smart?device_id=${encodeURIComponent(selectedDevice)}`)\r\n        .then(r=>r.json()).then(d=>setSmartData(d)).catch(()=>setSmartData(null));\r\n    }\r\n  }, [selectedDevice, devices]);\r\n\r\n  const t = key => (messages[lang] && messages[lang][key]) || key;\r\n\r\n  // Theme effect\r\n  useEffect(()=>{\r\n    const root = document.documentElement;\r\n    if(theme==='light') {\r\n      root.classList.remove('dark');\r\n    } else {\r\n      root.classList.add('dark');\r\n    }\r\n    root.classList.remove('light');\r\n    if(theme==='light') root.classList.add('light');\r\n  },[theme]);\r\n  useEffect(()=>{ document.documentElement.lang = lang === 'hi' ? 'hi' : 'en'; },[lang]);\r\n  // Cleanup progress polling on unmount\r\n  useEffect(()=>()=>{ if(progressPollRef.current) clearInterval(progressPollRef.current); },[]);\r\n  // Auto-scroll log when new progress arrives\r\n  useEffect(()=>{\r\n    if(logRef.current){\r\n      logRef.current.scrollTop = logRef.current.scrollHeight;\r\n    }\r\n  },[progress]);\r\n\r\n  // Device type -> sprite id mapping\r\n  const deviceIconId = (d) => {\r\n    if(!d) return 'icon-drive';\r\n    const t = (d.type||'').toLowerCase();\r\n    if(t.includes('windows')) return 'icon-windows';\r\n    if(t.includes('android')) return 'icon-android';\r\n    if(t.includes('linux')) return 'icon-linux';\r\n    if(t.includes('ssd')) return 'icon-ssd';\r\n    if(t.includes('hdd')|| t.includes('rotational')) return 'icon-hdd';\r\n    return 'icon-drive';\r\n  };\r\n\r\n  if (!consent) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-eco-gradient px-6\">\r\n        <div className=\"max-w-xl w-full bg-slate-900/80 backdrop-blur rounded-2xl border border-emerald-600/40 p-10 shadow-2xl\">\r\n          <h1 className=\"text-3xl font-bold eco-gradient-text mb-4\">CertiWipe {t('safetyNotice')}</h1>\r\n          <p className=\"text-slate-300 text-sm leading-relaxed mb-6\">{t('noticeBody')}</p>\r\n          <div className=\"flex gap-3 mb-4\">\r\n            <select value={lang} onChange={e=>setLang(e.target.value)} className=\"bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm\">\r\n              <option value=\"en\">English</option>\r\n              <option value=\"hi\">हिन्दी</option>\r\n            </select>\r\n            <button onClick={()=>setTheme(th=>th==='dark'?'light':'dark')} className=\"btn-secondary\" type=\"button\">{theme==='dark'?'Light':'Dark'}</button>\r\n          </div>\r\n          <button onClick={()=>setConsent(true)} className=\"btn-primary\">{t('proceed')}</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n          // Certificate view\r\n          if (certificate) {\r\n            return (\r\n              <div className=\"min-h-screen bg-slate-950 text-slate-100 p-8 space-y-6\">\r\n                <h2 className=\"text-2xl font-semibold flex items-center gap-3\"><span className=\"eco-gradient-text\">{t('eraseComplete')}</span> <Pill>{t('certificate')}</Pill></h2>\r\n                <SectionCard>\r\n                  <pre className=\"text-xs max-h-[50vh] overflow-auto leading-relaxed\">\r\n                    {JSON.stringify(certificate,null,2)}\r\n                  </pre>\r\n                  <div className=\"flex flex-wrap gap-3 mt-4\">\r\n                    <button onClick={()=>downloadCert('pdf')} className=\"btn-primary\">{t('downloadPdf')}</button>\r\n                    <button onClick={()=>downloadCert('json')} className=\"btn-secondary\">{t('downloadJson')}</button>\r\n                    <button onClick={downloadZip} className=\"btn-secondary\">{t('downloadZip')}</button>\r\n                    <button onClick={verifyErasure} className=\"btn-secondary\">{t('verifyErasure')}</button>\r\n                    <button onClick={()=>window.location.reload()} className=\"btn-danger ml-auto\">{t('startOver')}</button>\r\n                  </div>\r\n                  {verification && (\r\n                    <div className=\"mt-6 border border-slate-700 rounded-lg p-4 bg-slate-900/60\">\r\n                      <h4 className=\"font-semibold mb-2 text-emerald-300\">Verification Report</h4>\r\n                      {typeof verification === 'string' ? (\r\n                        <pre className=\"text-xs whitespace-pre-wrap\">{verification}</pre>\r\n                      ) : (\r\n                        <div className=\"space-y-2 text-[11px]\">\r\n                          <div className=\"flex flex-wrap gap-4\">\r\n                            {'entropy_score' in verification && <span>{t('entropy')}: <strong className=\"text-emerald-300\">{verification.entropy_score}</strong></span>}\r\n                            {'entropy_min' in verification && verification.entropy_min !== null && <span>Min: <strong>{verification.entropy_min}</strong></span>}\r\n                            {'entropy_max' in verification && verification.entropy_max !== null && <span>Max: <strong>{verification.entropy_max}</strong></span>}\r\n                            {'entropy_stddev' in verification && verification.entropy_stddev !== null && <span>σ: <strong>{verification.entropy_stddev}</strong></span>}\r\n                            {'confidence' in verification && <span>{t('confidence')}: <strong className=\"text-cyan-300\">{verification.confidence}</strong></span>}\r\n                            <span>Warnings: <strong className={verification.warnings? 'text-amber-400':'text-emerald-400'}>{verification.warnings}</strong></span>\r\n                          </div>\r\n                          {verification.entropy_samples && verification.entropy_samples.length>0 && (\r\n                            <details className=\"text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Entropy Samples ({verification.entropy_samples.length})</summary>\r\n                              <div className=\"mt-2 max-h-40 overflow-auto space-y-1\">\r\n                                {verification.entropy_samples.slice(0,25).map((s,i)=>(\r\n                                  <div key={i} className=\"flex justify-between\"><span>0x{s.offset.toString(16)}</span><span>{s.entropy_norm}</span></div>\r\n                                ))}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                          <details className=\"text-slate-400\">\r\n                            <summary className=\"cursor-pointer\">Raw JSON</summary>\r\n                            <pre className=\"text-[10px] whitespace-pre-wrap mt-2 max-h-52 overflow-auto\">{JSON.stringify(verification,null,2)}</pre>\r\n                          </details>\r\n                          {certificate?.trust_components && (\r\n                            <details className=\"text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Trust Components</summary>\r\n                              <div className=\"mt-2 grid grid-cols-2 gap-1 text-[10px]\">\r\n                                {Object.entries(certificate.trust_components).map(([k,v])=> <div key={k} className=\"flex justify-between\"><span>{k}</span><span className=\"text-emerald-300\">{v}</span></div>)}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </SectionCard>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          const methodMeta = wipeMethods.find(w=>w.id===method);\r\n          const disableErase = !selectedDevice || !method || erasing || (isAndroid && !(checklist.adb && checklist.connected && checklist.encrypted));\r\n\r\n          // Trust gauge (simple circle) component inline\r\n          const TrustGauge = ({ value=0 }) => {\r\n            const pct = Math.max(0, Math.min(100, value));\r\n            const stroke = 8;\r\n            const r = 54 - stroke;\r\n            const circ = 2 * Math.PI * r;\r\n            const offset = circ - (pct/100)*circ;\r\n            return (\r\n              <div className=\"trust-gauge\">\r\n                <svg viewBox=\"0 0 108 108\">\r\n                  <circle cx=\"54\" cy=\"54\" r={r} stroke=\"#1e293b\" strokeWidth={stroke} fill=\"none\" />\r\n                  <circle cx=\"54\" cy=\"54\" r={r} stroke=\"url(#grad)\" strokeLinecap=\"round\" strokeWidth={stroke} fill=\"none\" strokeDasharray={circ} strokeDashoffset={offset} />\r\n                  <defs>\r\n                    <linearGradient id=\"grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                      <stop offset=\"0%\" stopColor=\"#10b981\" />\r\n                      <stop offset=\"50%\" stopColor=\"#06b6d4\" />\r\n                      <stop offset=\"100%\" stopColor=\"#0891b2\" />\r\n                    </linearGradient>\r\n                  </defs>\r\n                </svg>\r\n                <div className=\"trust-gauge-value\">{pct}</div>\r\n              </div>\r\n            );\r\n          };\r\n\r\n          const trustScoreVal = certificate?.trust_score || verification?.trust_score || 0;\r\n\r\n          return (\r\n            <div className={`min-h-screen ${theme==='dark' ? 'dark':'light'}`} style={{background: 'linear-gradient(135deg,var(--bg-gradient-from),var(--bg-gradient-mid),var(--bg-gradient-to))', color: 'var(--text-primary)'}}>\r\n              <header className=\"px-6 md:px-8 pt-6 pb-4 flex flex-col gap-4 md:flex-row md:items-center md:gap-8 bg-eco-animated rounded-b-2xl\">\r\n                <div className=\"flex flex-col\">\r\n                  <h1 className=\"text-3xl md:text-2xl font-bold eco-gradient-text tracking-wide leading-tight flex items-center gap-3\">\r\n                    <FiShield className=\"text-emerald-400 drop-shadow\" /> CertiWipe Dashboard\r\n                  </h1>\r\n                  <span className=\"mt-1 text-[11px] md:text-[10px] uppercase tracking-wider text-slate-400 font-medium\">{t('dashboardTag')}</span>\r\n                </div>\r\n                <nav className=\"flex gap-2 overflow-x-auto pr-1 -mx-1 md:mx-0 md:pr-0\">\r\n          {['devices','progress','certificates'].map(tab => (\r\n                    <button\r\n            key={tab}\r\n            onClick={()=>setActiveTab(tab)}\r\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition shrink-0 border flex items-center gap-1 ${activeTab===tab? 'bg-emerald-600 text-white border-emerald-500 shadow':'bg-slate-800/60 border-slate-700 hover:bg-slate-700/60'}`}\r\n                    >\r\n            {tab==='devices' && <FiHardDrive />}\r\n            {tab==='progress' && <FiZap />}\r\n            {tab==='certificates' && <FiFileText />}\r\n            {tab==='devices'?t('devicesTab'):tab==='progress'?t('progressTab'):t('certificatesTab')}\r\n                    </button>\r\n                  ))}\r\n                </nav>\r\n                <div className=\"md:ml-auto flex flex-wrap gap-4 text-[11px] md:text-xs text-slate-400 pt-1 md:pt-0 border-t md:border-t-0 border-slate-800 md:pl-0 pl-1 items-center\">\r\n                  <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"/>{t('devicesLabel')}: {devices.length}</span>\r\n                  <input value={apiKey} onChange={e=>setApiKey(e.target.value.trim())} placeholder=\"API Key\" className=\"px-2 py-1 rounded border border-slate-600 bg-slate-800/60 text-xs w-32\" />\r\n                  <span>{t('methodLabel')}: <span className=\"text-emerald-300 font-mono\">{method || '-'}</span></span>\r\n                  <button\r\n                    onClick={()=>setTheme(th=>th==='dark'?'light':'dark')}\r\n                    className={`px-3 py-1 rounded text-xs border transition flex items-center gap-1 ${theme==='dark'\r\n                      ? 'bg-slate-800/60 hover:bg-slate-700/60 border-slate-600 text-slate-200'\r\n                      : 'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'}`}\r\n                  >{theme==='dark'? <><FiSun/> Light</>: <><FiMoon/> Dark</>}</button>\r\n                  <select\r\n                    value={lang}\r\n                    onChange={e=>setLang(e.target.value)}\r\n                    className={`rounded px-2 py-1 text-xs border transition flex items-center gap-1 pl-7 relative ${theme==='dark'\r\n                      ? 'bg-slate-800/60 border-slate-600 text-slate-200'\r\n                      : 'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'}`}\r\n                  >\r\n                    <option value=\"en\">EN</option>\r\n                    <option value=\"hi\">HI</option>\r\n                  </select>\r\n                  {trustScoreVal ? <div className=\"flex items-center gap-2\"><TrustGauge value={trustScoreVal} /><span className=\"text-[10px] uppercase tracking-wide\">Trust</span></div>: null}\r\n                </div>\r\n              </header>\r\n              <main className=\"px-8 pb-16 space-y-8\">\r\n                {activeTab==='devices' && (\r\n                  <div className=\"grid lg:grid-cols-3 gap-8\">\r\n                    <SectionCard title={t('selectDevice')} icon={FiHardDrive} className=\"lg:col-span-1\">\r\n                      {/* Allowlist badge */}\r\n                      {selectedDevice && <div className=\"mb-2 text-[10px] flex items-center gap-2\">\r\n                        {allowlist.includes(selectedDevice) ? <span className=\"px-2 py-0.5 rounded bg-emerald-700/60 text-emerald-200\">Allowlisted</span> : <span className=\"px-2 py-0.5 rounded bg-amber-700/60 text-amber-200\">Not Allowlisted</span>}\r\n                        {selectedDevice && !allowlist.includes(selectedDevice) && <button onClick={async()=>{ try { await axios.post('http://localhost:8000/allow_device', null, { params:{ device_id: selectedDevice }}); setAllowlist(a=>[...a, selectedDevice]); } catch{} }} className=\"text-[10px] underline text-emerald-300\">Add</button>}\r\n                        {selectedDevice && allowlist.includes(selectedDevice) && <button onClick={async()=>{ try { await axios.delete('http://localhost:8000/allow_device', { params:{ device_id: selectedDevice }}); setAllowlist(a=>a.filter(d=>d!==selectedDevice)); } catch{} }} className=\"text-[10px] underline text-amber-300\">Remove</button>}\r\n                      </div>}\r\n                      <div className=\"flex items-center gap-3 mb-3 flex-wrap\">\r\n                        <button onClick={()=>fetchDevices()} className={`px-3 py-1.5 text-xs rounded border transition font-medium flex items-center gap-1 ${theme==='dark'? 'bg-slate-800 hover:bg-slate-700 border-slate-600 text-slate-200':'bg-white hover:bg-emerald-50 border-slate-300 text-slate-700 shadow-sm'}`}><FiRefreshCcw className=\"opacity-80\" size={14} /> {t('refresh')}</button>\r\n                        <label className=\"flex items-center gap-1 text-[10px] cursor-pointer select-none\">\r\n                          <input type=\"checkbox\" className=\"accent-emerald-500\" checked={detailedMode} onChange={e=>setDetailedMode(e.target.checked)} />\r\n                          <span className=\"uppercase tracking-wide\">Detailed</span>\r\n                        </label>\r\n                        {devicesLoading && <span className=\"text-xs text-emerald-400 animate-pulse\">{t('loading')}</span>}\r\n                      </div>\r\n                      <select\r\n                        value={selectedDevice}\r\n                        onChange={e=>setSelectedDevice(e.target.value)}\r\n                        className={`w-full rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 border transition ${theme==='dark'\r\n                          ? 'bg-slate-900 border-slate-700 text-slate-100'\r\n                          : 'bg-white border-slate-300 text-slate-800 shadow-sm'} `}\r\n                      >\r\n                        <option value=\"\">-- Select Device --</option>\r\n                        {devices.map(d => (\r\n                          <option key={d.id} value={d.id}>{d.model} [{d.type}] ({d.size || '-'})</option>\r\n                        ))}\r\n                      </select>\r\n                      <div className=\"mt-3 flex flex-wrap gap-2\">\r\n                        {devices.slice(0,6).map(d => (\r\n                          <div key={d.id} title={d.model} onClick={()=>setSelectedDevice(d.id)} className={`cursor-pointer p-2 rounded-lg border text-[10px] flex items-center gap-1 transition hover:bg-slate-800/60 ${selectedDevice===d.id? 'border-emerald-500 bg-slate-800/60':'border-slate-700'}`}>\r\n                            <svg width=\"20\" height=\"20\" className=\"shrink-0\"><use href={`#${deviceIconId(d)}`} /></svg>\r\n                            <span className=\"truncate max-w-[90px]\">{d.model||d.id}</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      {selectedDevice && <div className=\"mt-3 text-xs text-slate-400\">{t('selected')}: <span className=\"text-emerald-300 font-mono break-all\">{selectedDevice}</span></div>}\r\n                      {selectedDevice && (()=>{const d=devices.find(x=>x.id===selectedDevice); if(!d) return null; return (\r\n                        <div className=\"mt-4 text-[11px] bg-slate-900/60 border border-slate-700 rounded-lg p-3 space-y-1\">\r\n                          <div className=\"text-slate-300 font-semibold mb-1 tracking-wide uppercase text-[10px]\">Device Details</div>\r\n                          <div className=\"grid grid-cols-2 gap-x-4 gap-y-1\">\r\n                            <span className=\"text-slate-400\">Model</span><span className=\"text-emerald-300 break-all\">{d.model||'-'}</span>\r\n                            <span className=\"text-slate-400\">Type</span><span>{d.type||'-'}</span>\r\n                            <span className=\"text-slate-400\">Size</span><span>{d.size || (d.size_bytes? (d.size_bytes/1e9).toFixed(2)+'GB':'-')}</span>\r\n                            {d.serial && <><span className=\"text-slate-400\">Serial</span><span className=\"break-all\">{d.serial}</span></>}\r\n                            {d.interface && <><span className=\"text-slate-400\">Interface</span><span>{d.interface}</span></>}\r\n                            {typeof d.rotational === 'boolean' && <><span className=\"text-slate-400\">Media</span><span>{d.rotational? 'HDD':'SSD/Flash'}</span></>}\r\n                            {d.temperature_c !== undefined && d.temperature_c !== null && <><span className=\"text-slate-400\">Temp</span><span>{d.temperature_c}°C</span></>}\r\n                            {d.health && <><span className=\"text-slate-400\">Health</span><span className={d.health==='PASSED' || d.health==='OK' ? 'text-emerald-400':'text-amber-400'}>{d.health}</span></>}\r\n                            {Array.isArray(d.mountpoints) && d.mountpoints.length>0 && <><span className=\"text-slate-400\">Mounts</span><span>{d.mountpoints.join(',')}</span></>}\r\n                            {d.is_system !== undefined && <><span className=\"text-slate-400\">System Disk</span><span className={d.is_system? 'text-amber-400':'text-emerald-400'}>{String(d.is_system)}</span></>}\r\n                          </div>\r\n                          {d.encryption && d.encryption.admin_required && (\r\n                            <div className=\"mt-2 text-[10px] rounded bg-amber-800/40 border border-amber-600/40 px-2 py-1 text-amber-300 flex items-start gap-2\">\r\n                              <span className=\"mt-0.5\">⚠</span>\r\n                              <span>{t('adminPrivilegesNeeded')}</span>\r\n                            </div>\r\n                          )}\r\n                            {isAndroid && (\r\n                              <>\r\n                                {d.android_version && <div className=\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300 flex justify-between\"><span>Android Version</span><span className=\"text-emerald-300\">{d.android_version}</span></div>}\r\n                                {typeof d.android_rooted === 'boolean' && <div className=\"mt-1 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300 flex justify-between\"><span>Root Access</span><span className={d.android_rooted?'text-emerald-300':'text-amber-300'}>{d.android_rooted? 'Yes':'No'}</span></div>}\r\n                              </>\r\n                            )}\r\n                            {isAndroid && d.android_encryption && (\r\n                              <div className=\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300\">\r\n                                <div className=\"uppercase tracking-wide text-slate-400 mb-1\">Android Encryption</div>\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                  <span>State</span><span className=\"col-span-2 text-emerald-300\">{d.android_encryption.state || '-'}</span>\r\n                                  <span>Type</span><span className=\"col-span-2\">{d.android_encryption.type || '-'}</span>\r\n                                  <span>Status</span><span className=\"col-span-2\">{d.android_encryption.status || '-'}</span>\r\n                                </div>\r\n                                {(!d.android_encryption.state || d.android_encryption.state.toLowerCase() !== 'encrypted') && (\r\n                                  <button type=\"button\" onClick={async()=>{ try { const ser = d.id.split(':')[1]; const r = await fetch(`http://localhost:8000/android_encrypt?serial=${ser}`, { method:'POST'}); const j = await r.json(); alert('Encrypt attempt: '+(j.state||j.status)); fetchDevices(); } catch(e){ alert('Encrypt attempt failed'); } }} className=\"mt-2 px-2 py-1 rounded bg-cyan-600 hover:bg-cyan-500 text-[10px]\">Enable Encryption</button>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                            {d.encryption && d.encryption.volumes && (\r\n                            <details className=\"mt-2 text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Encryption Volumes ({d.encryption.volumes.length})</summary>\r\n                              <div className=\"mt-1 max-h-28 overflow-auto space-y-1\">\r\n                                {d.encryption.volumes.map((v,i)=>{\r\n                                  const pct = (v.encryption_pct === null || v.encryption_pct === undefined) ? '—' : typeof v.encryption_pct === 'number' ? v.encryption_pct : v.encryption_pct;\r\n                                  const tip = v.details ? JSON.stringify({lock_status:v.lock_status, protection:v.details.ProtectionStatus, pct:v.encryption_pct}, null, 0) : (v.raw_text ? v.raw_text : v.lock_status);\r\n                                  return (\r\n                                    <div key={i} title={tip} className=\"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded\">\r\n                                      <span className=\"flex-1 truncate\">{v.mount}</span>\r\n                                      <span className={/unlock/i.test(v.lock_status)?'text-emerald-300':'text-amber-300'}>{v.lock_status}</span>\r\n                                      <span className=\"text-[10px] rounded bg-slate-900/60 px-1 py-0.5 text-slate-400 min-w-8 text-center\">{pct}{pct!=='—' && typeof pct==='number'? '%':''}</span>\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )})()}\r\n                      {selectedDevice && smartData && smartData.supported !== false && (\r\n                        <div className=\"mt-3 space-y-2\">\r\n                          {smartData && (\r\n                            <details className=\"text-slate-300 bg-slate-900/60 p-2 rounded border border-slate-700\">\r\n                              <summary className=\"cursor-pointer text-[11px]\">SMART / Health</summary>\r\n                              <div className=\"mt-2 space-y-1 text-[11px]\">\r\n                                {'temperature_c' in smartData && smartData.temperature_c !== null && <div>Temp: <span className=\"text-emerald-300\">{smartData.temperature_c}°C</span></div>}\r\n                                {'health' in smartData && smartData.health && <div>Health: <span className={smartData.health==='PASSED' || smartData.health==='OK' ? 'text-emerald-400':'text-amber-400'}>{smartData.health}</span></div>}\r\n                                {Array.isArray(smartData.interesting_attributes) && smartData.interesting_attributes.length>0 && (\r\n                                  <div className=\"mt-1\">\r\n                                    <div className=\"text-[10px] uppercase tracking-wide text-slate-400\">Attributes</div>\r\n                                    <div className=\"max-h-32 overflow-auto mt-1 space-y-1\">\r\n                                      {smartData.interesting_attributes.map((a,i)=> (\r\n                                        <div key={i} className=\"flex justify-between gap-2 text-[10px] bg-slate-800/50 px-2 py-1 rounded\">\r\n                                          <span>{a.name}</span>\r\n                                          <span className=\"text-emerald-300\">{a.raw?.value ?? a.value ?? '-'}</span>\r\n                                        </div>\r\n                                      ))}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                                {smartData.error && <div className=\"text-amber-400 text-[10px]\">{smartData.error}</div>}\r\n                                {smartData.supported === false && <div className=\"text-slate-500 text-[10px]\">SMART not supported: {smartData.reason}</div>}\r\n                                <details className=\"mt-2\">\r\n                                  <summary className=\"cursor-pointer text-[10px] text-slate-400\">Raw (truncated)</summary>\r\n                                  <pre className=\"text-[9px] max-h-32 overflow-auto whitespace-pre-wrap\">{JSON.stringify(smartData.raw ? (smartData.raw.device? smartData.raw.device: smartData.raw) : smartData, null, 2).slice(0,3000)}</pre>\r\n                                </details>\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                    <SectionCard title={t('wipeMethod')} icon={FiCpu} className=\"lg:col-span-1\">\r\n                      <select\r\n                        value={method}\r\n                        onChange={e=>setMethod(e.target.value)}\r\n                        className={`w-full rounded px-3 py-2 text-sm border transition ${theme==='dark'\r\n                          ? 'bg-slate-900 border-slate-700 text-slate-100'\r\n                          : 'bg-white border-slate-300 text-slate-800 shadow-sm'} `}\r\n                      >\r\n                        <option value=\"\">-- Select Method --</option>\r\n                        {wipeMethods.filter(m => {\r\n                          if(!isAndroid) return !m.id.startsWith('android_'); // hide android_* on non-Android\r\n                          return ['android_root','android_unroot'].includes(m.id);\r\n                        }).map(m => (\r\n                          <option key={m.id} value={m.id}>{m.label || m.id} ({m.passes} pass{m.passes>1?'es':''})</option>\r\n                        ))}\r\n                      </select>\r\n                      {isAndroid && method==='android_unroot' && (\r\n                        <div className=\"mt-2\">\r\n                          <label className=\"block text-[10px] mb-1 text-slate-400 uppercase tracking-wide\">Sub Method</label>\r\n                          <select value={subMethod} onChange={e=>setSubMethod(e.target.value)} className={`w-full rounded px-3 py-2 text-sm border transition ${theme==='dark'\r\n                            ? 'bg-slate-900 border-slate-700 text-slate-100'\r\n                            : 'bg-white border-slate-300 text-slate-800 shadow-sm'}`}>\r\n                            <option value=\"\">auto</option>\r\n                            <option value=\"shunyawipe\">shunyawipe</option>\r\n                            <option value=\"multi-pass\">multi-pass</option>\r\n                            <option value=\"dod_5220_22m\">dod_5220_22m</option>\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n                      {methodMeta && (\r\n                        <div className=\"mt-3 text-xs leading-relaxed text-slate-300\">\r\n                          <div className=\"font-medium text-emerald-300 mb-1\">{methodMeta.label}</div>\r\n                          <div>{methodMeta.description}</div>\r\n                          <div className=\"mt-1 flex gap-2 flex-wrap\">\r\n                            <Pill>{methodMeta.passes} pass{methodMeta.passes>1?'es':''}</Pill>\r\n                            <Pill tone='cyan'>Energy:{Math.round((methodMeta.energy_factor||1)*100)}%</Pill>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                    <SectionCard title={t('preconditions')} icon={FiLock} className=\"lg:col-span-1 space-y-4\">\r\n                      {isAndroid && (\r\n                        <div className=\"space-y-2\">\r\n                          <h4 className=\"text-sm font-semibold text-cyan-300\">{t('androidChecklist')}</h4>\r\n                          {['adb','connected','encrypted'].map(key => (\r\n                            <label key={key} className=\"flex items-center gap-2 text-xs\">\r\n                              <input type=\"checkbox\" className=\"accent-emerald-500\" checked={checklist[key]} onChange={e=>setChecklist(c=>({...c,[key]:e.target.checked}))}/>\r\n                              <span className=\"capitalize\">{key}</span>\r\n                            </label>\r\n                          ))}\r\n                          <div className=\"text-[10px] text-slate-400 mt-1\">Encryption status: <span className=\"text-emerald-300\">{androidEncryption || '...'}</span></div>\r\n                        </div>\r\n                      )}\r\n                      {isWindowsDrive && (\r\n                        <div className=\"space-y-2\">\r\n                          <h4 className=\"text-sm font-semibold text-cyan-300\">{t('windowsBitlocker')}</h4>\r\n                          <div className=\"text-xs\">{t('status')}: <span className=\"text-emerald-300\">{winBitLocker.status || '...'}</span></div>\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {winBitLocker.details.filter(r=>r.status==='Locked').map(r => (\r\n                              <button key={r.drive} onClick={()=>setUnlockModal({ open:true, drive:r.drive, method:'password', value:'' })} className=\"px-2 py-1 text-[10px] rounded bg-amber-600/70 hover:bg-amber-600\">Unlock {r.drive}</button>\r\n                            ))}\r\n                          </div>\r\n                          <details className=\"text-slate-400 text-[10px]\">\r\n                            <summary className=\"cursor-pointer mt-1\">Debug: Raw BitLocker Response</summary>\r\n                            <div className=\"mt-2 space-y-1\">\r\n                              <button type=\"button\" onClick={()=>{\r\n                                const url = `http://localhost:8000/bitlocker_status?device_id=${encodeURIComponent(selectedDevice)}`;\r\n                                fetch(url).then(r=>r.json()).then(d=>{ setBitlockerRaw(d); }).catch(e=> setBitlockerRaw({ error:String(e)}));\r\n                              }} className=\"px-2 py-1 rounded bg-slate-700 hover:bg-slate-600 text-[10px]\">Refresh</button>\r\n                              <pre className=\"max-h-40 overflow-auto bg-slate-900/70 p-2 rounded border border-slate-700 whitespace-pre-wrap\">{bitlockerRaw? JSON.stringify(bitlockerRaw,null,2):'No data yet'}</pre>\r\n                            </div>\r\n                          </details>\r\n                        </div>\r\n                      )}\r\n                      {!isAndroid && !isWindowsDrive && <p className=\"text-xs text-slate-400\">{t('noSpecial')}</p>}\r\n                      <button disabled={disableErase} onClick={startErase} className={`w-full mt-4 px-4 py-2 rounded font-medium text-sm transition flex items-center justify-center gap-2 ${disableErase? 'bg-slate-700 text-slate-400 cursor-not-allowed':'bg-gradient-to-r from-emerald-600 to-cyan-600 text-white hover:brightness-110 shadow pulse-ring'} `}>{erasing? <><FiZap className=\"animate-pulse\" /> {t('erasing')}</> : <><FiPlay /> {t('startErase')}</>}</button>\r\n                      {erasing && <div className=\"text-[10px] text-emerald-400 animate-pulse\">{t('doNotDisconnect')}</div>}\r\n                    </SectionCard>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab==='progress' && (\r\n                  <div className=\"grid lg:grid-cols-3 gap-6\">\r\n                    <SectionCard title={t('realTimeProgress')} className=\"lg:col-span-2\">\r\n                      <div ref={logRef} className=\"text-[11px] leading-snug max-h-[50vh] overflow-auto font-mono whitespace-pre-wrap thin-scrollbar\" style={{minHeight:'200px'}}>\r\n                        {progress.join('\\n') || t('noActivity')}\r\n                      </div>\r\n                    </SectionCard>\r\n                    <SectionCard title=\"Detailed Metrics\" className=\"lg:col-span-1\">\r\n                      {!detailedProgress && <div className=\"text-xs text-slate-400\">Awaiting progress...</div>}\r\n                      {detailedProgress && (\r\n                        <div className=\"space-y-4 text-xs\">\r\n                          <div className=\"flex justify-between\"><span>Status</span><span className=\"font-medium text-emerald-300\">{detailedProgress.status}</span></div>\r\n                          <div className=\"flex justify-between\"><span>Pass</span><span>{Math.min(detailedProgress.pass_index, detailedProgress.passes_total)}/{detailedProgress.passes_total}{detailedProgress.current_pattern?` (${detailedProgress.current_pattern})`:''}</span></div>\r\n                          <div className=\"flex justify-between\"><span>Bytes</span><span>{(detailedProgress.bytes_written/1e9).toFixed(2)} / {(detailedProgress.total_bytes/1e9).toFixed(2)} GB</span></div>\r\n                          <div className=\"flex justify-between\"><span>Percent</span><span>{detailedProgress.total_bytes? ((detailedProgress.bytes_written/detailedProgress.total_bytes)*100).toFixed(1):'0'}%</span></div>\r\n                          <div className=\"flex justify-between\"><span>Speed</span><span>{detailedProgress._speedMBs? detailedProgress._speedMBs.toFixed(1):'0.0'} MB/s</span></div>\r\n                          {detailedProgress._etaSec !== null && <div className=\"flex justify-between\"><span>ETA</span><span>{detailedProgress._etaSec>7200?'>2h': detailedProgress._etaSec>3600?'>1h': new Date(detailedProgress._etaSec*1000).toISOString().substr(11,8)}</span></div>}\r\n                          {/* Visual progress bar */}\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"h-2.5 w-full rounded bg-slate-700 overflow-hidden flex\">\r\n                              {Array.from({length: detailedProgress.passes_total}).map((_,i)=>{\r\n                                const isDone = i < (detailedProgress.pass_index||0);\r\n                                const isCurrent = i === (detailedProgress.pass_index||0);\r\n                                const patternLabel = detailedProgress.pass_patterns && detailedProgress.pass_patterns[i] ? detailedProgress.pass_patterns[i] : '';\r\n                                const title = isDone? `Pass ${i+1} ${patternLabel} complete` : isCurrent? `Pass ${i+1} ${patternLabel} active` : `Pass ${i+1} ${patternLabel} pending`;\r\n                                return <div key={i} title={title} className={`h-full transition-all duration-300 ${isDone? 'bg-emerald-500': isCurrent? 'bg-cyan-500 animate-pulse':'bg-slate-600/60'}`} style={{flex:1, marginRight: i===detailedProgress.passes_total-1?0:2, opacity: isCurrent?1: undefined}} />\r\n                              })}\r\n                            </div>\r\n                            <div className=\"flex justify-between text-[10px] tracking-wide uppercase text-slate-400\">\r\n                              <span>Pass Segments</span>\r\n                              {detailedProgress.total_bytes ? (\r\n                                <span>{((detailedProgress.bytes_written/detailedProgress.total_bytes)*100).toFixed(1)}%</span>\r\n                              ): <span>0%</span>}\r\n                            </div>\r\n                          </div>\r\n                          {detailedProgress.verified !== null && <div className=\"flex justify-between\"><span>Verified</span><span className={detailedProgress.verified? 'text-emerald-400':'text-amber-400'}>{String(detailedProgress.verified)}</span></div>}\r\n                          {detailedProgress.completed_at && <div className=\"flex justify-between\"><span>Completed</span><span>{new Date(detailedProgress.completed_at).toLocaleTimeString()}</span></div>}\r\n                          {(!detailedProgress.completed_at && detailedProgress.status !== 'cancelled') && (\r\n                            <button onClick={async()=>{ try { await axios.post('http://localhost:8000/cancel', null, { params:{ device_id: selectedDevice }});} catch(e){} }} className=\"w-full mt-2 px-2 py-1.5 rounded bg-amber-600 hover:bg-amber-500 text-[11px] font-medium\">Cancel</button>\r\n                          )}\r\n                          {detailedProgress && detailedProgress.status==='running' && !erasing && (\r\n                            <button onClick={async()=>{ try { await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method: detailedProgress.method, resume: true }); setProgress(p=>[...p,'Resume requested...']); } catch { setProgress(p=>[...p,'Resume failed']); } }} className=\"w-full mt-2 px-2 py-1.5 rounded bg-cyan-600 hover:bg-cyan-500 text-[11px] font-medium\">Resume</button>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab==='certificates' && (\r\n                  <div className=\"fade-slide-in\">\r\n                    <CertificatesList LottieEmpty={<Player autoplay loop src={emptyAnim} style={{height:140}}/>} />\r\n                  </div>\r\n                )}\r\n              </main>\r\n\r\n              {unlockModal.open && (\r\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n                  <div className=\"w-full max-w-md bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-xl\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 eco-gradient-text\">Unlock BitLocker ({unlockModal.drive})</h3>\r\n                    <label className=\"block text-xs mb-2 font-medium\">Method</label>\r\n                    <select value={unlockModal.method} onChange={e=>setUnlockModal(m=>({...m, method:e.target.value, value:''}))} className=\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-4\">\r\n                      <option value=\"password\">Password</option>\r\n                      <option value=\"recovery_key\">Recovery Key</option>\r\n                      <option value=\"numerical_password\">Numerical Password</option>\r\n                      <option value=\"key_file\">Key File (.BEK)</option>\r\n                    </select>\r\n                    <label className=\"block text-xs mb-2 font-medium\">{unlockModal.method === 'key_file' ? 'Key File Path' : 'Value'}</label>\r\n                    <input value={unlockModal.value} onChange={e=>setUnlockModal(m=>({...m,value:e.target.value}))} placeholder={unlockModal.method==='key_file'? 'C:\\\\path\\\\to\\\\keyfile.BEK':'Enter value'} className=\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-5\" />\r\n                    <div className=\"flex gap-3\">\r\n                      <button onClick={async ()=>{\r\n                        if(!unlockModal.value.trim()) return alert('Enter a value');\r\n                        const body = { device_id: unlockModal.drive, [unlockModal.method]: unlockModal.value };\r\n                        try {\r\n                          const res = await fetch('http://localhost:8000/bitlocker_unlock',{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body)});\r\n                          const data = await res.json();\r\n                          if(data.status==='Unlocked') {\r\n                            setWinBitLocker(w=>({...w, status: w.status?.replace(`${unlockModal.drive}: Locked`, `${unlockModal.drive}: Unlocked`)}));\r\n                            setUnlockModal({ open:false, drive:'', method:'password', value:''});\r\n                          } else alert('Unlock failed');\r\n                        } catch(e){ alert('Unlock failed'); }\r\n                      }} className=\"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-sm font-medium\">Unlock</button>\r\n                      <button onClick={()=>setUnlockModal({ open:false, drive:'', method:'password', value:''})} className=\"px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm\">Cancel</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n}\r\n\r\nfunction CertificatesList({ LottieEmpty }){\r\n  const [certs, setCerts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(()=>{ fetch('http://localhost:8000/certificates').then(r=>r.json()).then(d=>{setCerts(d); setLoading(false);}).catch(()=>setLoading(false)); },[]);\r\n  if (loading) return <SectionCard title=\"Certificates\">Loading...</SectionCard>;\r\n  if (!certs.length) return (\r\n    <SectionCard title=\"Certificates\">\r\n      <div className=\"flex flex-col items-center justify-center py-6 gap-3 text-slate-400 text-xs\">\r\n        {LottieEmpty}\r\n        <p>No certificates yet.</p>\r\n      </div>\r\n    </SectionCard>\r\n  );\r\n  return (\r\n    <div className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n      {certs.map(c => (\r\n        <div key={c.log_hash || c.device_id} className=\"eco-card border border-slate-700/70 hover-rise relative overflow-hidden\">\r\n          <div className=\"absolute inset-0 pointer-events-none opacity-0 hover:opacity-100 transition bg-gradient-to-br from-emerald-500/5 via-cyan-500/5 to-transparent\" />\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <h4 className=\"font-semibold text-sm text-emerald-300 truncate flex items-center gap-2\">\r\n              <svg width=\"18\" height=\"18\"><use href=\"#icon-drive\" /></svg>{c.device_id}\r\n            </h4>\r\n            <Pill tone='cyan'>{c.method}</Pill>\r\n          </div>\r\n          <div className=\"text-[11px] space-y-1 text-slate-300\">\r\n            <div>TrustScore: <span className=\"text-emerald-400 font-medium\">{c.trust_score}</span></div>\r\n            <div>Passes: {c.passes}</div>\r\n            <div>Eco: {c.eco?.ewaste_kg_risk_reduced} kg reduced</div>\r\n            {c.eco?.energy_kwh_est !== undefined && <div>Energy: {c.eco.energy_kwh_est ?? '-'} kWh</div>}\r\n            {c.eco?.co2_kg_est !== undefined && <div>CO₂: {c.eco.co2_kg_est ?? '-'} kg</div>}\r\n            <div className=\"truncate\">Hash: {c.log_hash?.slice(0,20)}...</div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Ensure default export (was removed during refactor)\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}