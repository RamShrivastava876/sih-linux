{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/OneDrive/Desktop/sih 2025/secure-wipe-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import axios from'axios';// Rewritten clean implementation (old duplicated code removed)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SectionCard=_ref=>{let{title,children,className=''}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"eco-card \".concat(className),children:[title&&/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 tracking-wide text-emerald-300\",children:title}),children]});};const toneMap={emerald:'bg-emerald-900/40 border-emerald-600/40 text-emerald-300',cyan:'bg-cyan-900/40 border-cyan-600/40 text-cyan-300',amber:'bg-amber-900/40 border-amber-600/40 text-amber-300'};const Pill=_ref2=>{let{children,tone='emerald'}=_ref2;return/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded-full text-xs font-medium \".concat(toneMap[tone]||toneMap.emerald),children:children});};// Simple i18n dictionary scaffold (en + hi)\nconst messages={en:{safetyNotice:'Safety Notice',proceed:'I Understand – Continue',selectDevice:'1. Select Device',wipeMethod:'2. Wipe Method',preconditions:'3. Preconditions',startErase:'Start Erase',erasing:'Erasing...',noSpecial:'No special preconditions.',noticeBody:'This process will irreversibly remove data from selected storage devices. Ensure you have backups before you proceed.',dashboardTag:'Certified Eco & Trust Erasure',eraseComplete:'Erase Complete',certificate:'Certificate',downloadPdf:'Download PDF',downloadJson:'Download JSON',downloadZip:'Download Bundle (ZIP)',energy:'Energy',carbon:'CO₂',entropy:'Entropy',confidence:'Confidence',ecoImpact:'Eco Impact',energyReduced:'Energy Used',co2Reduced:'CO₂ Estimated',verificationSummary:'Verification Summary',verifyErasure:'Verify Erasure',startOver:'Start Over',refresh:'Refresh',loading:'Loading...',selected:'Selected',devicesLabel:'Devices',methodLabel:'Method',androidChecklist:'Android Checklist',windowsBitlocker:'Windows / BitLocker',status:'Status',encryptionStatus:'Encryption status',unlock:'Unlock',cancel:'Cancel',value:'Value',keyFilePath:'Key File Path',trust:'Trust',realTimeProgress:'Real-Time Progress',noActivity:'No activity yet.',certificatesTab:'CERTIFICATES',devicesTab:'DEVICES',progressTab:'PROGRESS',noCertificates:'No certificates yet.',doNotDisconnect:'Do not disconnect device...',adminPrivilegesNeeded:'Run backend as Administrator to view full BitLocker encryption status.'},hi:{safetyNotice:'सुरक्षा सूचना',proceed:'मैं समझता हूँ – आगे बढ़ें',selectDevice:'१. डिवाइस चुनें',wipeMethod:'२. वाइप विधि',preconditions:'३. पूर्व शर्तें',startErase:'मिटाना शुरू करें',erasing:'मिटाया जा रहा है...',noSpecial:'कोई विशेष पूर्व शर्त नहीं।',noticeBody:'यह प्रक्रिया चयनित स्टोरेज डिवाइसों से डेटा को स्थायी रूप से हटा देगी। आगे बढ़ने से पहले अपने बैकअप सुनिश्चित करें।',dashboardTag:'प्रमाणित ईको एवं ट्रस्ट इरेज़र',eraseComplete:'मिटाना पूर्ण',certificate:'प्रमाणपत्र',downloadPdf:'PDF डाउनलोड',downloadJson:'JSON डाउनलोड',downloadZip:'ZIP बंडल डाउनलोड',energy:'ऊर्जा',carbon:'CO₂',entropy:'एंट्रॉपी',confidence:'विश्वास स्तर',ecoImpact:'ईको प्रभाव',energyReduced:'ऊर्जा उपयोग',co2Reduced:'अनुमानित CO₂',verificationSummary:'सत्यापन सारांश',verifyErasure:'मिटाने की पुष्टि',startOver:'फिर से शुरू करें',refresh:'रिफ्रेश',loading:'लोड हो रहा है...',selected:'चयनित',devicesLabel:'डिवाइस',methodLabel:'विधि',androidChecklist:'एंड्रॉइड चेकलिस्ट',windowsBitlocker:'विंडोज / बिटलॉकर',status:'स्थिति',encryptionStatus:'एन्क्रिप्शन स्थिति',unlock:'अनलॉक',cancel:'रद्द',value:'मान',keyFilePath:'की फ़ाइल पथ',trust:'विश्वास',realTimeProgress:'रीयल-टाइम प्रगति',noActivity:'अभी तक कोई गतिविधि नहीं।',certificatesTab:'प्रमाणपत्र',devicesTab:'डिवाइस',progressTab:'प्रगति',noCertificates:'कोई प्रमाणपत्र नहीं।',doNotDisconnect:'डिवाइस को न हटाएँ...',adminPrivilegesNeeded:'पूर्ण बिटलॉकर एन्क्रिप्शन स्थिति देखने के लिए बैकएंड को प्रशासक अधिकारों (Administrator) के साथ चलाएँ।'}};function App(){const[unlockModal,setUnlockModal]=useState({open:false,drive:'',method:'password',value:''});const[consent,setConsent]=useState(false);const[theme,setTheme]=useState('dark');const[lang,setLang]=useState('en');const[devices,setDevices]=useState([]);const[apiKey,setApiKey]=useState('');const[devicesLoading,setDevicesLoading]=useState(false);const[selectedDevice,setSelectedDevice]=useState('');const[method,setMethod]=useState('');const[progress,setProgress]=useState([]);const[erasing,setErasing]=useState(false);const[certificate,setCertificate]=useState(null);const[checklist,setChecklist]=useState({adb:false,connected:false,encrypted:false});const[androidEncryption,setAndroidEncryption]=useState(null);const[winBitLocker,setWinBitLocker]=useState({status:null,unlocking:false,details:[]});const[wipeMethods,setWipeMethods]=useState([]);const[activeTab,setActiveTab]=useState('devices');const[verification,setVerification]=useState(null);const[allowlist,setAllowlist]=useState([]);const[smartData,setSmartData]=useState(null);const[detailedMode,setDetailedMode]=useState(true);const wsRef=useRef(null);const progressPollRef=useRef(null);const[detailedProgress,setDetailedProgress]=useState(null);const progressHistoryRef=useRef([]);// for speed & ETA smoothing\nconst isAndroid=devices.find(d=>d.id===selectedDevice&&d.type&&d.type.startsWith('Android'));// Adjusted: backend now returns type 'Windows' for Windows disks\nconst isWindowsDrive=devices.find(d=>d.id===selectedDevice&&(d.type==='Windows'||d.type==='SSD'||d.type==='HDD'));const fetchDevices=async detailedParam=>{const detailed=typeof detailedParam==='boolean'?detailedParam:detailedMode;setDevicesLoading(true);try{const res=await axios.get('http://localhost:8000/devices',{params:{detailed,api_key:apiKey||undefined}});setDevices(res.data);}catch(e){/* ignore */}finally{setDevicesLoading(false);}};const fetchAllowlist=async()=>{try{const r=await axios.get('http://localhost:8000/allowlist',{params:{api_key:apiKey||undefined}});setAllowlist(r.data);}catch(_unused){/* ignore */}};const startErase=async()=>{setErasing(true);setProgress([\"\\u25B6 Starting erase \".concat(selectedDevice,\" with method \").concat(method)]);wsRef.current=new window.WebSocket(\"ws://localhost:8000/logs/\".concat(encodeURIComponent(selectedDevice)));wsRef.current.onmessage=event=>{setProgress(p=>[...p,event.data]);if(/Certificate generated/i.test(event.data)){wsRef.current.close();setErasing(false);fetchCertificate();}};wsRef.current.onerror=()=>setProgress(p=>[...p,'⚠ WebSocket error']);try{await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method});}catch(e){if(e.response&&e.response.status===412){// auto-add then retry\ntry{await axios.post('http://localhost:8000/allow_device',null,{params:{device_id:selectedDevice}});setAllowlist(a=>[...new Set([...a,selectedDevice])]);await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method});setProgress(p=>[...p,'Added to allowlist and restarted erase.']);}catch(_unused2){setProgress(p=>[...p,'Failed to auto-add device to allowlist.']);}}else{setProgress(p=>[...p,\"Erase start error: \".concat(e.message)]);}}// Start polling detailed progress\nif(progressPollRef.current)clearInterval(progressPollRef.current);progressPollRef.current=setInterval(async()=>{try{const r=await axios.get('http://localhost:8000/progress_detailed',{params:{device_id:selectedDevice}});const now=Date.now();if(r.data&&typeof r.data.bytes_written==='number'){progressHistoryRef.current.push({t:now,b:r.data.bytes_written});if(progressHistoryRef.current.length>10)progressHistoryRef.current.shift();const first=progressHistoryRef.current[0];const last=progressHistoryRef.current[progressHistoryRef.current.length-1];let speedBps=0;if(last&&first&&last.t!==first.t){speedBps=(last.b-first.b)/((last.t-first.t)/1000);}const speedMBs=speedBps/1000000;let etaSec=null;if(speedBps>0&&r.data.total_bytes){const remaining=Math.max(0,r.data.total_bytes-r.data.bytes_written);etaSec=remaining/speedBps;}setDetailedProgress(_objectSpread(_objectSpread({},r.data),{},{_speedMBs:speedMBs,_etaSec:etaSec}));}else{setDetailedProgress(r.data);}}catch(_){/* ignore */}},1200);setActiveTab('progress');};const fetchCertificate=async()=>{const res=await axios.get('http://localhost:8000/certificate',{params:{device_id:selectedDevice,format:'json'}});setCertificate(res.data);};const downloadCert=format=>window.open(\"http://localhost:8000/certificate?device_id=\".concat(encodeURIComponent(selectedDevice),\"&format=\").concat(format),'_blank');const downloadZip=()=>window.open(\"http://localhost:8000/certificate_export?device_id=\".concat(encodeURIComponent(selectedDevice)),'_blank');const verifyErasure=async()=>{setVerification('Verifying...');try{const r=await axios.get('http://localhost:8000/verify_erasure',{params:{device_id:selectedDevice}});setVerification(r.data);}catch(_unused3){setVerification('Verification failed');}};// Effects\nuseEffect(()=>{axios.get('http://localhost:8000/methods').then(r=>setWipeMethods(r.data)).catch(()=>{});},[]);useEffect(()=>{if(consent){fetchDevices();fetchAllowlist();}},[consent,apiKey,detailedMode]);useEffect(()=>{if(isAndroid){const serial=selectedDevice.split(':')[1];fetch(\"http://localhost:8000/android_encryption?serial=\".concat(serial)).then(r=>r.json()).then(d=>setAndroidEncryption(d.encrypted?'Encrypted':'Not Encrypted')).catch(()=>setAndroidEncryption(null));}else setAndroidEncryption(null);},[selectedDevice,isAndroid]);useEffect(()=>{if(!isWindowsDrive){setWinBitLocker({status:null,unlocking:false,details:[]});return;}fetch(\"http://localhost:8000/bitlocker_status?device_id=\".concat(encodeURIComponent(selectedDevice))).then(r=>r.json()).then(d=>{if(Array.isArray(d.results)&&d.results.length){const listStr=d.results.map(x=>\"\".concat(x.drive,\": \").concat(x.status)).join(', ');setWinBitLocker({status:d.status||listStr||'Unknown',unlocking:false,details:d.results});}else{let msg='Unknown';if(d.status==='admin_required')msg='Admin required';else if(d.status==='no_mapping')msg='No mapping';else if(d.status)msg=d.status;else if(d.message)msg=d.message;setWinBitLocker({status:msg,unlocking:false,details:[]});}}).catch(()=>setWinBitLocker({status:'Error',unlocking:false,details:[]}));},[selectedDevice,isWindowsDrive]);// SMART fetch (Linux only currently)\nuseEffect(()=>{setSmartData(null);const dev=devices.find(d=>d.id===selectedDevice);if(!dev)return;if(dev.type==='Linux'){fetch(\"http://localhost:8000/smart?device_id=\".concat(encodeURIComponent(selectedDevice))).then(r=>r.json()).then(d=>setSmartData(d)).catch(()=>setSmartData(null));}},[selectedDevice,devices]);const t=key=>messages[lang]&&messages[lang][key]||key;// Theme effect\nuseEffect(()=>{const root=document.documentElement;if(theme==='light'){root.classList.remove('dark');}else{root.classList.add('dark');}root.classList.remove('light');if(theme==='light')root.classList.add('light');},[theme]);useEffect(()=>{document.documentElement.lang=lang==='hi'?'hi':'en';},[lang]);// Cleanup progress polling on unmount\nuseEffect(()=>()=>{if(progressPollRef.current)clearInterval(progressPollRef.current);},[]);if(!consent){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-eco-gradient px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xl w-full bg-slate-900/80 backdrop-blur rounded-2xl border border-emerald-600/40 p-10 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold eco-gradient-text mb-4\",children:[\"CertiWipe \",t('safetyNotice')]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 text-sm leading-relaxed mb-6\",children:t('noticeBody')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:lang,onChange:e=>setLang(e.target.value),className:\"bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi\",children:\"\\u0939\\u093F\\u0928\\u094D\\u0926\\u0940\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTheme(th=>th==='dark'?'light':'dark'),className:\"btn-secondary\",type:\"button\",children:theme==='dark'?'Light':'Dark'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setConsent(true),className:\"btn-primary\",children:t('proceed')})]})});}// Certificate view\nif(certificate){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-950 text-slate-100 p-8 space-y-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"eco-gradient-text\",children:t('eraseComplete')}),\" \",/*#__PURE__*/_jsx(Pill,{children:t('certificate')})]}),/*#__PURE__*/_jsxs(SectionCard,{children:[/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs max-h-[50vh] overflow-auto leading-relaxed\",children:JSON.stringify(certificate,null,2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadCert('pdf'),className:\"btn-primary\",children:t('downloadPdf')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadCert('json'),className:\"btn-secondary\",children:t('downloadJson')}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadZip,className:\"btn-secondary\",children:t('downloadZip')}),/*#__PURE__*/_jsx(\"button\",{onClick:verifyErasure,className:\"btn-secondary\",children:t('verifyErasure')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"btn-danger ml-auto\",children:t('startOver')})]}),verification&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border border-slate-700 rounded-lg p-4 bg-slate-900/60\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2 text-emerald-300\",children:\"Verification Report\"}),typeof verification==='string'?/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs whitespace-pre-wrap\",children:verification}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-[11px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:['entropy_score'in verification&&/*#__PURE__*/_jsxs(\"span\",{children:[t('entropy'),\": \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-emerald-300\",children:verification.entropy_score})]}),'entropy_min'in verification&&verification.entropy_min!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Min: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_min})]}),'entropy_max'in verification&&verification.entropy_max!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Max: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_max})]}),'entropy_stddev'in verification&&verification.entropy_stddev!==null&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u03C3: \",/*#__PURE__*/_jsx(\"strong\",{children:verification.entropy_stddev})]}),'confidence'in verification&&/*#__PURE__*/_jsxs(\"span\",{children:[t('confidence'),\": \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-cyan-300\",children:verification.confidence})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Warnings: \",/*#__PURE__*/_jsx(\"strong\",{className:verification.warnings?'text-amber-400':'text-emerald-400',children:verification.warnings})]})]}),verification.entropy_samples&&verification.entropy_samples.length>0&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsxs(\"summary\",{className:\"cursor-pointer\",children:[\"Entropy Samples (\",verification.entropy_samples.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 max-h-40 overflow-auto space-y-1\",children:verification.entropy_samples.slice(0,25).map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"0x\",s.offset.toString(16)]}),/*#__PURE__*/_jsx(\"span\",{children:s.entropy_norm})]},i))})]}),/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer\",children:\"Raw JSON\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-[10px] whitespace-pre-wrap mt-2 max-h-52 overflow-auto\",children:JSON.stringify(verification,null,2)})]}),(certificate===null||certificate===void 0?void 0:certificate.trust_components)&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-400\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer\",children:\"Trust Components\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 grid grid-cols-2 gap-1 text-[10px]\",children:Object.entries(certificate.trust_components).map(_ref3=>{let[k,v]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:k}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:v})]},k);})})]})]})]})]})]});}const methodMeta=wipeMethods.find(w=>w.id===method);const disableErase=!selectedDevice||!method||erasing||isAndroid&&!(checklist.adb&&checklist.connected&&checklist.encrypted);// Trust gauge (simple circle) component inline\nconst TrustGauge=_ref4=>{let{value=0}=_ref4;const pct=Math.max(0,Math.min(100,value));const stroke=8;const r=54-stroke;const circ=2*Math.PI*r;const offset=circ-pct/100*circ;return/*#__PURE__*/_jsxs(\"div\",{className:\"trust-gauge\",children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 108 108\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"54\",cy:\"54\",r:r,stroke:\"#1e293b\",strokeWidth:stroke,fill:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"54\",cy:\"54\",r:r,stroke:\"url(#grad)\",strokeLinecap:\"round\",strokeWidth:stroke,fill:\"none\",strokeDasharray:circ,strokeDashoffset:offset}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"grad\",x1:\"0%\",y1:\"0%\",x2:\"100%\",y2:\"0%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#10b981\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"50%\",stopColor:\"#06b6d4\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#0891b2\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"trust-gauge-value\",children:pct})]});};const trustScoreVal=(certificate===null||certificate===void 0?void 0:certificate.trust_score)||(verification===null||verification===void 0?void 0:verification.trust_score)||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen \".concat(theme==='dark'?'dark':'light'),style:{background:'linear-gradient(135deg,var(--bg-gradient-from),var(--bg-gradient-mid),var(--bg-gradient-to))',color:'var(--text-primary)'},children:[/*#__PURE__*/_jsxs(\"header\",{className:\"px-6 md:px-8 pt-6 pb-4 flex flex-col gap-4 md:flex-row md:items-center md:gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-2xl font-bold eco-gradient-text tracking-wide leading-tight\",children:\"CertiWipe Dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-1 text-[11px] md:text-[10px] uppercase tracking-wider text-slate-400 font-medium\",children:t('dashboardTag')})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex gap-2 overflow-x-auto pr-1 -mx-1 md:mx-0 md:pr-0\",children:['devices','progress','certificates'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),className:\"px-4 py-2 rounded-lg text-sm font-medium transition shrink-0 border \".concat(activeTab===tab?'bg-emerald-600 text-white border-emerald-500 shadow':'bg-slate-800/60 border-slate-700 hover:bg-slate-700/60'),children:tab==='devices'?t('devicesTab'):tab==='progress'?t('progressTab'):t('certificatesTab')},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:ml-auto flex flex-wrap gap-4 text-[11px] md:text-xs text-slate-400 pt-1 md:pt-0 border-t md:border-t-0 border-slate-800 md:pl-0 pl-1 items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"}),t('devicesLabel'),\": \",devices.length]}),/*#__PURE__*/_jsx(\"input\",{value:apiKey,onChange:e=>setApiKey(e.target.value.trim()),placeholder:\"API Key\",className:\"px-2 py-1 rounded border border-slate-600 bg-slate-800/60 text-xs w-32\"}),/*#__PURE__*/_jsxs(\"span\",{children:[t('methodLabel'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 font-mono\",children:method||'-'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTheme(th=>th==='dark'?'light':'dark'),className:\"px-3 py-1 rounded text-xs border transition \".concat(theme==='dark'?'bg-slate-800/60 hover:bg-slate-700/60 border-slate-600 text-slate-200':'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'),children:theme==='dark'?'Light':'Dark'}),/*#__PURE__*/_jsxs(\"select\",{value:lang,onChange:e=>setLang(e.target.value),className:\"rounded px-2 py-1 text-xs border transition \".concat(theme==='dark'?'bg-slate-800/60 border-slate-600 text-slate-200':'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'),children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"EN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hi\",children:\"HI\"})]}),trustScoreVal?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrustGauge,{value:trustScoreVal}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] uppercase tracking-wide\",children:\"Trust\"})]}):null]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"px-8 pb-16 space-y-8\",children:[activeTab==='devices'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(SectionCard,{title:t('selectDevice'),className:\"lg:col-span-1\",children:[selectedDevice&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 text-[10px] flex items-center gap-2\",children:[allowlist.includes(selectedDevice)?/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded bg-emerald-700/60 text-emerald-200\",children:\"Allowlisted\"}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded bg-amber-700/60 text-amber-200\",children:\"Not Allowlisted\"}),selectedDevice&&!allowlist.includes(selectedDevice)&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/allow_device',null,{params:{device_id:selectedDevice}});setAllowlist(a=>[...a,selectedDevice]);}catch(_unused4){}},className:\"text-[10px] underline text-emerald-300\",children:\"Add\"}),selectedDevice&&allowlist.includes(selectedDevice)&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.delete('http://localhost:8000/allow_device',{params:{device_id:selectedDevice}});setAllowlist(a=>a.filter(d=>d!==selectedDevice));}catch(_unused5){}},className:\"text-[10px] underline text-amber-300\",children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchDevices(),className:\"px-3 py-1.5 text-xs rounded border transition font-medium \".concat(theme==='dark'?'bg-slate-800 hover:bg-slate-700 border-slate-600 text-slate-200':'bg-white hover:bg-emerald-50 border-slate-300 text-slate-700 shadow-sm'),children:t('refresh')}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1 text-[10px] cursor-pointer select-none\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"accent-emerald-500\",checked:detailedMode,onChange:e=>setDetailedMode(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"uppercase tracking-wide\",children:\"Detailed\"})]}),devicesLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-emerald-400 animate-pulse\",children:t('loading')})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDevice,onChange:e=>setSelectedDevice(e.target.value),className:\"w-full rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 border transition \".concat(theme==='dark'?'bg-slate-900 border-slate-700 text-slate-100':'bg-white border-slate-300 text-slate-800 shadow-sm',\" \"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Device --\"}),devices.map(d=>/*#__PURE__*/_jsxs(\"option\",{value:d.id,children:[d.model,\" [\",d.type,\"] (\",d.size||'-',\")\"]},d.id))]}),selectedDevice&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-xs text-slate-400\",children:[t('selected'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 font-mono break-all\",children:selectedDevice})]}),selectedDevice&&(()=>{const d=devices.find(x=>x.id===selectedDevice);if(!d)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-[11px] bg-slate-900/60 border border-slate-700 rounded-lg p-3 space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-300 font-semibold mb-1 tracking-wide uppercase text-[10px]\",children:\"Device Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-x-4 gap-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Model\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 break-all\",children:d.model||'-'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Type\"}),/*#__PURE__*/_jsx(\"span\",{children:d.type||'-'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Size\"}),/*#__PURE__*/_jsx(\"span\",{children:d.size||(d.size_bytes?(d.size_bytes/1e9).toFixed(2)+'GB':'-')}),d.serial&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Serial\"}),/*#__PURE__*/_jsx(\"span\",{className:\"break-all\",children:d.serial})]}),d.interface&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Interface\"}),/*#__PURE__*/_jsx(\"span\",{children:d.interface})]}),typeof d.rotational==='boolean'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Media\"}),/*#__PURE__*/_jsx(\"span\",{children:d.rotational?'HDD':'SSD/Flash'})]}),d.temperature_c!==undefined&&d.temperature_c!==null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Temp\"}),/*#__PURE__*/_jsxs(\"span\",{children:[d.temperature_c,\"\\xB0C\"]})]}),d.health&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Health\"}),/*#__PURE__*/_jsx(\"span\",{className:d.health==='PASSED'||d.health==='OK'?'text-emerald-400':'text-amber-400',children:d.health})]}),Array.isArray(d.mountpoints)&&d.mountpoints.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Mounts\"}),/*#__PURE__*/_jsx(\"span\",{children:d.mountpoints.join(',')})]}),d.is_system!==undefined&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"System Disk\"}),/*#__PURE__*/_jsx(\"span\",{className:d.is_system?'text-amber-400':'text-emerald-400',children:String(d.is_system)})]})]}),d.encryption&&d.encryption.admin_required&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-[10px] rounded bg-amber-800/40 border border-amber-600/40 px-2 py-1 text-amber-300 flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mt-0.5\",children:\"\\u26A0\"}),/*#__PURE__*/_jsx(\"span\",{children:t('adminPrivilegesNeeded')})]}),isAndroid&&d.android_encryption&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uppercase tracking-wide text-slate-400 mb-1\",children:\"Android Encryption\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2 text-emerald-300\",children:d.android_encryption.state||'-'}),/*#__PURE__*/_jsx(\"span\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2\",children:d.android_encryption.type||'-'}),/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"col-span-2\",children:d.android_encryption.status||'-'})]})]}),d.encryption&&d.encryption.volumes&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-2 text-slate-400\",children:[/*#__PURE__*/_jsxs(\"summary\",{className:\"cursor-pointer\",children:[\"Encryption Volumes (\",d.encryption.volumes.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 max-h-28 overflow-auto space-y-1\",children:d.encryption.volumes.map((v,i)=>{const pct=v.encryption_pct===null||v.encryption_pct===undefined?'—':typeof v.encryption_pct==='number'?v.encryption_pct:v.encryption_pct;const tip=v.details?JSON.stringify({lock_status:v.lock_status,protection:v.details.ProtectionStatus,pct:v.encryption_pct},null,0):v.raw_text?v.raw_text:v.lock_status;return/*#__PURE__*/_jsxs(\"div\",{title:tip,className:\"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 truncate\",children:v.mount}),/*#__PURE__*/_jsx(\"span\",{className:/unlock/i.test(v.lock_status)?'text-emerald-300':'text-amber-300',children:v.lock_status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] rounded bg-slate-900/60 px-1 py-0.5 text-slate-400 min-w-8 text-center\",children:[pct,pct!=='—'&&typeof pct==='number'?'%':'']})]},i);})})]})]});})(),selectedDevice&&smartData&&smartData.supported!==false&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 space-y-2\",children:smartData&&/*#__PURE__*/_jsxs(\"details\",{className:\"text-slate-300 bg-slate-900/60 p-2 rounded border border-slate-700\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-[11px]\",children:\"SMART / Health\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-1 text-[11px]\",children:['temperature_c'in smartData&&smartData.temperature_c!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Temp: \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-emerald-300\",children:[smartData.temperature_c,\"\\xB0C\"]})]}),'health'in smartData&&smartData.health&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Health: \",/*#__PURE__*/_jsx(\"span\",{className:smartData.health==='PASSED'||smartData.health==='OK'?'text-emerald-400':'text-amber-400',children:smartData.health})]}),Array.isArray(smartData.interesting_attributes)&&smartData.interesting_attributes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] uppercase tracking-wide text-slate-400\",children:\"Attributes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-32 overflow-auto mt-1 space-y-1\",children:smartData.interesting_attributes.map((a,i)=>{var _ref5,_a$raw$value,_a$raw;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between gap-2 text-[10px] bg-slate-800/50 px-2 py-1 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{children:a.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:(_ref5=(_a$raw$value=(_a$raw=a.raw)===null||_a$raw===void 0?void 0:_a$raw.value)!==null&&_a$raw$value!==void 0?_a$raw$value:a.value)!==null&&_ref5!==void 0?_ref5:'-'})]},i);})})]}),smartData.error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-amber-400 text-[10px]\",children:smartData.error}),smartData.supported===false&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-500 text-[10px]\",children:[\"SMART not supported: \",smartData.reason]}),/*#__PURE__*/_jsxs(\"details\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-[10px] text-slate-400\",children:\"Raw (truncated)\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-[9px] max-h-32 overflow-auto whitespace-pre-wrap\",children:JSON.stringify(smartData.raw?smartData.raw.device?smartData.raw.device:smartData.raw:smartData,null,2).slice(0,3000)})]})]})]})})]}),/*#__PURE__*/_jsxs(SectionCard,{title:t('wipeMethod'),className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsxs(\"select\",{value:method,onChange:e=>setMethod(e.target.value),className:\"w-full rounded px-3 py-2 text-sm border transition \".concat(theme==='dark'?'bg-slate-900 border-slate-700 text-slate-100':'bg-white border-slate-300 text-slate-800 shadow-sm',\" \"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Method --\"}),wipeMethods.filter(m=>{if(isAndroid&&['multi-pass','dod_5220_22m','nist_800_88'].includes(m.id))return false;// hide heavy patterns for Android logical wipe\nreturn true;}).map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m.id,children:[m.label||m.id,\" (\",m.passes,\" pass\",m.passes>1?'es':'',\")\"]},m.id))]}),methodMeta&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-xs leading-relaxed text-slate-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-emerald-300 mb-1\",children:methodMeta.label}),/*#__PURE__*/_jsx(\"div\",{children:methodMeta.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsxs(Pill,{children:[methodMeta.passes,\" pass\",methodMeta.passes>1?'es':'']}),/*#__PURE__*/_jsxs(Pill,{tone:\"cyan\",children:[\"Energy:\",Math.round((methodMeta.energy_factor||1)*100),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(SectionCard,{title:t('preconditions'),className:\"lg:col-span-1 space-y-4\",children:[isAndroid&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-cyan-300\",children:t('androidChecklist')}),['adb','connected','encrypted'].map(key=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"accent-emerald-500\",checked:checklist[key],onChange:e=>setChecklist(c=>_objectSpread(_objectSpread({},c),{},{[key]:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:key})]},key)),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[10px] text-slate-400 mt-1\",children:[\"Encryption status: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:androidEncryption||'...'})]})]}),isWindowsDrive&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-cyan-300\",children:t('windowsBitlocker')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[t('status'),\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:winBitLocker.status||'...'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:winBitLocker.details.filter(r=>r.status==='Locked').map(r=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setUnlockModal({open:true,drive:r.drive,method:'password',value:''}),className:\"px-2 py-1 text-[10px] rounded bg-amber-600/70 hover:bg-amber-600\",children:[\"Unlock \",r.drive]},r.drive))})]}),!isAndroid&&!isWindowsDrive&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:t('noSpecial')}),/*#__PURE__*/_jsx(\"button\",{disabled:disableErase,onClick:startErase,className:\"w-full mt-4 px-4 py-2 rounded font-medium text-sm transition \".concat(disableErase?'bg-slate-700 text-slate-400 cursor-not-allowed':'bg-gradient-to-r from-emerald-600 to-cyan-600 text-white hover:brightness-110 shadow',\" \"),children:erasing?t('erasing'):t('startErase')}),erasing&&/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] text-emerald-400 animate-pulse\",children:t('doNotDisconnect')})]})]}),activeTab==='progress'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(SectionCard,{title:t('realTimeProgress'),className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"text-[11px] leading-snug max-h-[50vh] overflow-auto font-mono whitespace-pre-wrap\",children:progress.join('\\n')||t('noActivity')})}),/*#__PURE__*/_jsxs(SectionCard,{title:\"Detailed Metrics\",className:\"lg:col-span-1\",children:[!detailedProgress&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400\",children:\"Awaiting progress...\"}),detailedProgress&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-emerald-300\",children:detailedProgress.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pass\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.min(detailedProgress.pass_index,detailedProgress.passes_total),\"/\",detailedProgress.passes_total,detailedProgress.current_pattern?\" (\".concat(detailedProgress.current_pattern,\")\"):'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Bytes\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(detailedProgress.bytes_written/1e9).toFixed(2),\" / \",(detailedProgress.total_bytes/1e9).toFixed(2),\" GB\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Percent\"}),/*#__PURE__*/_jsxs(\"span\",{children:[detailedProgress.total_bytes?(detailedProgress.bytes_written/detailedProgress.total_bytes*100).toFixed(1):'0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Speed\"}),/*#__PURE__*/_jsxs(\"span\",{children:[detailedProgress._speedMBs?detailedProgress._speedMBs.toFixed(1):'0.0',\" MB/s\"]})]}),detailedProgress._etaSec!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"ETA\"}),/*#__PURE__*/_jsx(\"span\",{children:detailedProgress._etaSec>7200?'>2h':detailedProgress._etaSec>3600?'>1h':new Date(detailedProgress._etaSec*1000).toISOString().substr(11,8)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2.5 w-full rounded bg-slate-700 overflow-hidden flex\",children:Array.from({length:detailedProgress.passes_total}).map((_,i)=>{const isDone=i<(detailedProgress.pass_index||0);const isCurrent=i===(detailedProgress.pass_index||0);const patternLabel=detailedProgress.pass_patterns&&detailedProgress.pass_patterns[i]?detailedProgress.pass_patterns[i]:'';const title=isDone?\"Pass \".concat(i+1,\" \").concat(patternLabel,\" complete\"):isCurrent?\"Pass \".concat(i+1,\" \").concat(patternLabel,\" active\"):\"Pass \".concat(i+1,\" \").concat(patternLabel,\" pending\");return/*#__PURE__*/_jsx(\"div\",{title:title,className:\"h-full transition-all duration-300 \".concat(isDone?'bg-emerald-500':isCurrent?'bg-cyan-500 animate-pulse':'bg-slate-600/60'),style:{flex:1,marginRight:i===detailedProgress.passes_total-1?0:2,opacity:isCurrent?1:undefined}},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-[10px] tracking-wide uppercase text-slate-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pass Segments\"}),detailedProgress.total_bytes?/*#__PURE__*/_jsxs(\"span\",{children:[(detailedProgress.bytes_written/detailedProgress.total_bytes*100).toFixed(1),\"%\"]}):/*#__PURE__*/_jsx(\"span\",{children:\"0%\"})]})]}),detailedProgress.verified!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Verified\"}),/*#__PURE__*/_jsx(\"span\",{className:detailedProgress.verified?'text-emerald-400':'text-amber-400',children:String(detailedProgress.verified)})]}),detailedProgress.completed_at&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(detailedProgress.completed_at).toLocaleTimeString()})]}),!detailedProgress.completed_at&&detailedProgress.status!=='cancelled'&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/cancel',null,{params:{device_id:selectedDevice}});}catch(e){}},className:\"w-full mt-2 px-2 py-1.5 rounded bg-amber-600 hover:bg-amber-500 text-[11px] font-medium\",children:\"Cancel\"}),detailedProgress&&detailedProgress.status==='running'&&!erasing&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await axios.post('http://localhost:8000/erase?confirm=true',{device_id:selectedDevice,method:detailedProgress.method,resume:true});setProgress(p=>[...p,'Resume requested...']);}catch(_unused6){setProgress(p=>[...p,'Resume failed']);}},className:\"w-full mt-2 px-2 py-1.5 rounded bg-cyan-600 hover:bg-cyan-500 text-[11px] font-medium\",children:\"Resume\"})]})]})]}),activeTab==='certificates'&&/*#__PURE__*/_jsx(CertificatesList,{})]}),unlockModal.open&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 eco-gradient-text\",children:[\"Unlock BitLocker (\",unlockModal.drive,\")\"]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs mb-2 font-medium\",children:\"Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:unlockModal.method,onChange:e=>setUnlockModal(m=>_objectSpread(_objectSpread({},m),{},{method:e.target.value,value:''})),className:\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-4\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recovery_key\",children:\"Recovery Key\"}),/*#__PURE__*/_jsx(\"option\",{value:\"numerical_password\",children:\"Numerical Password\"}),/*#__PURE__*/_jsx(\"option\",{value:\"key_file\",children:\"Key File (.BEK)\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs mb-2 font-medium\",children:unlockModal.method==='key_file'?'Key File Path':'Value'}),/*#__PURE__*/_jsx(\"input\",{value:unlockModal.value,onChange:e=>setUnlockModal(m=>_objectSpread(_objectSpread({},m),{},{value:e.target.value})),placeholder:unlockModal.method==='key_file'?'C:\\\\path\\\\to\\\\keyfile.BEK':'Enter value',className:\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(!unlockModal.value.trim())return alert('Enter a value');const body={device_id:unlockModal.drive,[unlockModal.method]:unlockModal.value};try{const res=await fetch('http://localhost:8000/bitlocker_unlock',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const data=await res.json();if(data.status==='Unlocked'){setWinBitLocker(w=>{var _w$status;return _objectSpread(_objectSpread({},w),{},{status:(_w$status=w.status)===null||_w$status===void 0?void 0:_w$status.replace(\"\".concat(unlockModal.drive,\": Locked\"),\"\".concat(unlockModal.drive,\": Unlocked\"))});});setUnlockModal({open:false,drive:'',method:'password',value:''});}else alert('Unlock failed');}catch(e){alert('Unlock failed');}},className:\"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-sm font-medium\",children:\"Unlock\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUnlockModal({open:false,drive:'',method:'password',value:''}),className:\"px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm\",children:\"Cancel\"})]})]})})]});}function CertificatesList(){const[certs,setCerts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetch('http://localhost:8000/certificates').then(r=>r.json()).then(d=>{setCerts(d);setLoading(false);}).catch(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(SectionCard,{title:\"Certificates\",children:\"Loading...\"});if(!certs.length)return/*#__PURE__*/_jsx(SectionCard,{title:\"Certificates\",children:\"No certificates yet.\"});return/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 xl:grid-cols-3 gap-6\",children:certs.map(c=>{var _c$eco,_c$eco2,_c$eco$energy_kwh_est,_c$eco3,_c$eco$co2_kg_est,_c$log_hash;return/*#__PURE__*/_jsxs(\"div\",{className:\"eco-card border border-slate-700/70\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-sm text-emerald-300 truncate\",children:c.device_id}),/*#__PURE__*/_jsx(Pill,{tone:\"cyan\",children:c.method})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[11px] space-y-1 text-slate-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"TrustScore: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-400 font-medium\",children:c.trust_score})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Passes: \",c.passes]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Eco: \",(_c$eco=c.eco)===null||_c$eco===void 0?void 0:_c$eco.ewaste_kg_risk_reduced,\" kg reduced\"]}),((_c$eco2=c.eco)===null||_c$eco2===void 0?void 0:_c$eco2.energy_kwh_est)!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[t('energy'),\": \",(_c$eco$energy_kwh_est=c.eco.energy_kwh_est)!==null&&_c$eco$energy_kwh_est!==void 0?_c$eco$energy_kwh_est:'-',\" kWh\"]}),((_c$eco3=c.eco)===null||_c$eco3===void 0?void 0:_c$eco3.co2_kg_est)!==undefined&&/*#__PURE__*/_jsxs(\"div\",{children:[t('carbon'),\": \",(_c$eco$co2_kg_est=c.eco.co2_kg_est)!==null&&_c$eco$co2_kg_est!==void 0?_c$eco$co2_kg_est:'-',\" kg\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"truncate\",children:[\"Hash: \",(_c$log_hash=c.log_hash)===null||_c$log_hash===void 0?void 0:_c$log_hash.slice(0,20),\"...\"]})]})]},c.log_hash||c.device_id);})});}// Ensure default export (was removed during refactor)\nexport default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SectionCard","_ref","title","children","className","concat","toneMap","emerald","cyan","amber","Pill","_ref2","tone","messages","en","safetyNotice","proceed","selectDevice","wipeMethod","preconditions","startErase","erasing","noSpecial","noticeBody","dashboardTag","eraseComplete","certificate","downloadPdf","downloadJson","downloadZip","energy","carbon","entropy","confidence","ecoImpact","energyReduced","co2Reduced","verificationSummary","verifyErasure","startOver","refresh","loading","selected","devicesLabel","methodLabel","androidChecklist","windowsBitlocker","status","encryptionStatus","unlock","cancel","value","keyFilePath","trust","realTimeProgress","noActivity","certificatesTab","devicesTab","progressTab","noCertificates","doNotDisconnect","adminPrivilegesNeeded","hi","App","unlockModal","setUnlockModal","open","drive","method","consent","setConsent","theme","setTheme","lang","setLang","devices","setDevices","apiKey","setApiKey","devicesLoading","setDevicesLoading","selectedDevice","setSelectedDevice","setMethod","progress","setProgress","setErasing","setCertificate","checklist","setChecklist","adb","connected","encrypted","androidEncryption","setAndroidEncryption","winBitLocker","setWinBitLocker","unlocking","details","wipeMethods","setWipeMethods","activeTab","setActiveTab","verification","setVerification","allowlist","setAllowlist","smartData","setSmartData","detailedMode","setDetailedMode","wsRef","progressPollRef","detailedProgress","setDetailedProgress","progressHistoryRef","isAndroid","find","d","id","type","startsWith","isWindowsDrive","fetchDevices","detailedParam","detailed","res","get","params","api_key","undefined","data","e","fetchAllowlist","r","_unused","current","window","WebSocket","encodeURIComponent","onmessage","event","p","test","close","fetchCertificate","onerror","post","device_id","response","a","Set","_unused2","message","clearInterval","setInterval","now","Date","bytes_written","push","t","b","length","shift","first","last","speedBps","speedMBs","etaSec","total_bytes","remaining","Math","max","_objectSpread","_speedMBs","_etaSec","_","format","downloadCert","_unused3","then","catch","serial","split","fetch","json","Array","isArray","results","listStr","map","x","join","msg","dev","key","root","document","documentElement","classList","remove","add","onChange","target","onClick","th","JSON","stringify","location","reload","entropy_score","entropy_min","entropy_max","entropy_stddev","warnings","entropy_samples","slice","s","i","offset","toString","entropy_norm","trust_components","Object","entries","_ref3","k","v","methodMeta","w","disableErase","TrustGauge","_ref4","pct","min","stroke","circ","PI","viewBox","cx","cy","strokeWidth","fill","strokeLinecap","strokeDasharray","strokeDashoffset","x1","y1","x2","y2","stopColor","trustScoreVal","trust_score","style","background","color","tab","trim","placeholder","includes","_unused4","delete","filter","_unused5","checked","model","size","size_bytes","toFixed","interface","rotational","temperature_c","health","mountpoints","is_system","String","encryption","admin_required","android_encryption","state","volumes","encryption_pct","tip","lock_status","protection","ProtectionStatus","raw_text","mount","supported","interesting_attributes","_ref5","_a$raw$value","_a$raw","name","raw","error","reason","device","m","label","passes","description","round","energy_factor","c","disabled","pass_index","passes_total","current_pattern","toISOString","substr","from","isDone","isCurrent","patternLabel","pass_patterns","flex","marginRight","opacity","verified","completed_at","toLocaleTimeString","resume","_unused6","CertificatesList","alert","body","headers","_w$status","replace","certs","setCerts","setLoading","_c$eco","_c$eco2","_c$eco$energy_kwh_est","_c$eco3","_c$eco$co2_kg_est","_c$log_hash","eco","ewaste_kg_risk_reduced","energy_kwh_est","co2_kg_est","log_hash"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/sih 2025/secure-wipe-frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Rewritten clean implementation (old duplicated code removed)\r\n\r\nconst SectionCard = ({ title, children, className = '' }) => (\r\n  <div className={`eco-card ${className}`}>\r\n    {title && <h3 className=\"text-lg font-semibold mb-3 tracking-wide text-emerald-300\">{title}</h3>}\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst toneMap = {\r\n  emerald: 'bg-emerald-900/40 border-emerald-600/40 text-emerald-300',\r\n  cyan: 'bg-cyan-900/40 border-cyan-600/40 text-cyan-300',\r\n  amber: 'bg-amber-900/40 border-amber-600/40 text-amber-300'\r\n};\r\nconst Pill = ({ children, tone='emerald' }) => (\r\n  <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${toneMap[tone] || toneMap.emerald}`}>{children}</span>\r\n);\r\n\r\n// Simple i18n dictionary scaffold (en + hi)\r\nconst messages = {\r\n  en: {\r\n    safetyNotice: 'Safety Notice',\r\n    proceed: 'I Understand – Continue',\r\n    selectDevice: '1. Select Device',\r\n    wipeMethod: '2. Wipe Method',\r\n    preconditions: '3. Preconditions',\r\n    startErase: 'Start Erase',\r\n    erasing: 'Erasing...',\r\n    noSpecial: 'No special preconditions.',\r\n  noticeBody: 'This process will irreversibly remove data from selected storage devices. Ensure you have backups before you proceed.',\r\n  dashboardTag: 'Certified Eco & Trust Erasure',\r\n  eraseComplete: 'Erase Complete',\r\n  certificate: 'Certificate',\r\n  downloadPdf: 'Download PDF',\r\n  downloadJson: 'Download JSON',\r\n  downloadZip: 'Download Bundle (ZIP)',\r\n  energy: 'Energy',\r\n  carbon: 'CO₂',\r\n  entropy: 'Entropy',\r\n  confidence: 'Confidence',\r\n  ecoImpact: 'Eco Impact',\r\n  energyReduced: 'Energy Used',\r\n  co2Reduced: 'CO₂ Estimated',\r\n  verificationSummary: 'Verification Summary',\r\n  verifyErasure: 'Verify Erasure',\r\n  startOver: 'Start Over',\r\n  refresh: 'Refresh',\r\n  loading: 'Loading...',\r\n  selected: 'Selected',\r\n  devicesLabel: 'Devices',\r\n  methodLabel: 'Method',\r\n  androidChecklist: 'Android Checklist',\r\n  windowsBitlocker: 'Windows / BitLocker',\r\n  status: 'Status',\r\n  encryptionStatus: 'Encryption status',\r\n  unlock: 'Unlock',\r\n  cancel: 'Cancel',\r\n  value: 'Value',\r\n  keyFilePath: 'Key File Path',\r\n  trust: 'Trust',\r\n  realTimeProgress: 'Real-Time Progress',\r\n  noActivity: 'No activity yet.',\r\n  certificatesTab: 'CERTIFICATES',\r\n  devicesTab: 'DEVICES',\r\n  progressTab: 'PROGRESS',\r\n  noCertificates: 'No certificates yet.',\r\n  doNotDisconnect: 'Do not disconnect device...' \r\n  , adminPrivilegesNeeded: 'Run backend as Administrator to view full BitLocker encryption status.'\r\n  },\r\n  hi: {\r\n    safetyNotice: 'सुरक्षा सूचना',\r\n    proceed: 'मैं समझता हूँ – आगे बढ़ें',\r\n    selectDevice: '१. डिवाइस चुनें',\r\n    wipeMethod: '२. वाइप विधि',\r\n    preconditions: '३. पूर्व शर्तें',\r\n    startErase: 'मिटाना शुरू करें',\r\n    erasing: 'मिटाया जा रहा है...',\r\n    noSpecial: 'कोई विशेष पूर्व शर्त नहीं।',\r\n  noticeBody: 'यह प्रक्रिया चयनित स्टोरेज डिवाइसों से डेटा को स्थायी रूप से हटा देगी। आगे बढ़ने से पहले अपने बैकअप सुनिश्चित करें।',\r\n  dashboardTag: 'प्रमाणित ईको एवं ट्रस्ट इरेज़र',\r\n  eraseComplete: 'मिटाना पूर्ण',\r\n  certificate: 'प्रमाणपत्र',\r\n  downloadPdf: 'PDF डाउनलोड',\r\n  downloadJson: 'JSON डाउनलोड',\r\n  downloadZip: 'ZIP बंडल डाउनलोड',\r\n  energy: 'ऊर्जा',\r\n  carbon: 'CO₂',\r\n  entropy: 'एंट्रॉपी',\r\n  confidence: 'विश्वास स्तर',\r\n  ecoImpact: 'ईको प्रभाव',\r\n  energyReduced: 'ऊर्जा उपयोग',\r\n  co2Reduced: 'अनुमानित CO₂',\r\n  verificationSummary: 'सत्यापन सारांश',\r\n  verifyErasure: 'मिटाने की पुष्टि',\r\n  startOver: 'फिर से शुरू करें',\r\n  refresh: 'रिफ्रेश',\r\n  loading: 'लोड हो रहा है...',\r\n  selected: 'चयनित',\r\n  devicesLabel: 'डिवाइस',\r\n  methodLabel: 'विधि',\r\n  androidChecklist: 'एंड्रॉइड चेकलिस्ट',\r\n  windowsBitlocker: 'विंडोज / बिटलॉकर',\r\n  status: 'स्थिति',\r\n  encryptionStatus: 'एन्क्रिप्शन स्थिति',\r\n  unlock: 'अनलॉक',\r\n  cancel: 'रद्द',\r\n  value: 'मान',\r\n  keyFilePath: 'की फ़ाइल पथ',\r\n  trust: 'विश्वास',\r\n  realTimeProgress: 'रीयल-टाइम प्रगति',\r\n  noActivity: 'अभी तक कोई गतिविधि नहीं।',\r\n  certificatesTab: 'प्रमाणपत्र',\r\n  devicesTab: 'डिवाइस',\r\n  progressTab: 'प्रगति',\r\n  noCertificates: 'कोई प्रमाणपत्र नहीं।',\r\n  doNotDisconnect: 'डिवाइस को न हटाएँ...' \r\n  , adminPrivilegesNeeded: 'पूर्ण बिटलॉकर एन्क्रिप्शन स्थिति देखने के लिए बैकएंड को प्रशासक अधिकारों (Administrator) के साथ चलाएँ।'\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [unlockModal, setUnlockModal] = useState({ open: false, drive: '', method: 'password', value: '' });\r\n  const [consent, setConsent] = useState(false);\r\n  const [theme, setTheme] = useState('dark');\r\n  const [lang, setLang] = useState('en');\r\n  const [devices, setDevices] = useState([]);\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [devicesLoading, setDevicesLoading] = useState(false);\r\n  const [selectedDevice, setSelectedDevice] = useState('');\r\n  const [method, setMethod] = useState('');\r\n  const [progress, setProgress] = useState([]);\r\n  const [erasing, setErasing] = useState(false);\r\n  const [certificate, setCertificate] = useState(null);\r\n  const [checklist, setChecklist] = useState({ adb: false, connected: false, encrypted: false });\r\n  const [androidEncryption, setAndroidEncryption] = useState(null);\r\n  const [winBitLocker, setWinBitLocker] = useState({ status: null, unlocking: false, details: [] });\r\n  const [wipeMethods, setWipeMethods] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('devices');\r\n  const [verification, setVerification] = useState(null);\r\n  const [allowlist, setAllowlist] = useState([]);\r\n  const [smartData, setSmartData] = useState(null);\r\n  const [detailedMode, setDetailedMode] = useState(true);\r\n  const wsRef = useRef(null);\r\n  const progressPollRef = useRef(null);\r\n  const [detailedProgress, setDetailedProgress] = useState(null);\r\n  const progressHistoryRef = useRef([]); // for speed & ETA smoothing\r\n\r\n  const isAndroid = devices.find(d => d.id === selectedDevice && d.type && d.type.startsWith('Android'));\r\n  // Adjusted: backend now returns type 'Windows' for Windows disks\r\n  const isWindowsDrive = devices.find(d => d.id === selectedDevice && (d.type === 'Windows' || d.type === 'SSD' || d.type === 'HDD'));\r\n\r\n  const fetchDevices = async (detailedParam) => {\r\n    const detailed = (typeof detailedParam === 'boolean') ? detailedParam : detailedMode;\r\n    setDevicesLoading(true);\r\n    try {\r\n      const res = await axios.get('http://localhost:8000/devices', { params:{ detailed, api_key: apiKey || undefined }});\r\n      setDevices(res.data);\r\n    } catch(e){ /* ignore */ } finally { setDevicesLoading(false); }\r\n  };\r\n  const fetchAllowlist = async () => { try { const r = await axios.get('http://localhost:8000/allowlist', { params:{ api_key: apiKey || undefined }}); setAllowlist(r.data);} catch { /* ignore */ } };\r\n\r\n  const startErase = async () => {\r\n    setErasing(true);\r\n    setProgress([`▶ Starting erase ${selectedDevice} with method ${method}`]);\r\n    wsRef.current = new window.WebSocket(`ws://localhost:8000/logs/${encodeURIComponent(selectedDevice)}`);\r\n    wsRef.current.onmessage = (event) => {\r\n      setProgress(p => [...p, event.data]);\r\n      if (/Certificate generated/i.test(event.data)) { wsRef.current.close(); setErasing(false); fetchCertificate(); }\r\n    };\r\n    wsRef.current.onerror = () => setProgress(p => [...p, '⚠ WebSocket error']);\r\n    try {\r\n      await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method });\r\n    } catch (e) {\r\n      if (e.response && e.response.status === 412) {\r\n        // auto-add then retry\r\n        try {\r\n          await axios.post('http://localhost:8000/allow_device', null, { params:{ device_id: selectedDevice }});\r\n          setAllowlist(a=>[...new Set([...a, selectedDevice])]);\r\n          await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method });\r\n          setProgress(p=>[...p,'Added to allowlist and restarted erase.']);\r\n        } catch {\r\n          setProgress(p=>[...p,'Failed to auto-add device to allowlist.']);\r\n        }\r\n      } else {\r\n        setProgress(p=>[...p, `Erase start error: ${e.message}`]);\r\n      }\r\n    }\r\n    // Start polling detailed progress\r\n    if (progressPollRef.current) clearInterval(progressPollRef.current);\r\n    progressPollRef.current = setInterval(async () => {\r\n      try {\r\n        const r = await axios.get('http://localhost:8000/progress_detailed', { params:{ device_id: selectedDevice }});\r\n        const now = Date.now();\r\n        if (r.data && typeof r.data.bytes_written === 'number') {\r\n          progressHistoryRef.current.push({ t: now, b: r.data.bytes_written });\r\n          if (progressHistoryRef.current.length > 10) progressHistoryRef.current.shift();\r\n          const first = progressHistoryRef.current[0];\r\n          const last = progressHistoryRef.current[progressHistoryRef.current.length -1];\r\n          let speedBps = 0;\r\n          if (last && first && last.t !== first.t) {\r\n            speedBps = (last.b - first.b) / ((last.t - first.t)/1000);\r\n          }\r\n          const speedMBs = speedBps/1_000_000;\r\n          let etaSec = null;\r\n          if (speedBps > 0 && r.data.total_bytes) {\r\n            const remaining = Math.max(0, r.data.total_bytes - r.data.bytes_written);\r\n            etaSec = remaining / speedBps;\r\n          }\r\n          setDetailedProgress({ ...r.data, _speedMBs: speedMBs, _etaSec: etaSec });\r\n        } else {\r\n          setDetailedProgress(r.data);\r\n        }\r\n      } catch (_) { /* ignore */ }\r\n    }, 1200);\r\n    setActiveTab('progress');\r\n  };\r\n\r\n  const fetchCertificate = async () => {\r\n    const res = await axios.get('http://localhost:8000/certificate', { params: { device_id: selectedDevice, format: 'json' } });\r\n            setCertificate(res.data);\r\n          };\r\n  const downloadCert = (format) => window.open(`http://localhost:8000/certificate?device_id=${encodeURIComponent(selectedDevice)}&format=${format}`, '_blank');\r\n  const downloadZip = () => window.open(`http://localhost:8000/certificate_export?device_id=${encodeURIComponent(selectedDevice)}`, '_blank');\r\n  const verifyErasure = async () => { setVerification('Verifying...'); try { const r = await axios.get('http://localhost:8000/verify_erasure', { params:{ device_id: selectedDevice }}); setVerification(r.data);} catch { setVerification('Verification failed'); } };\r\n\r\n  // Effects\r\n  useEffect(() => { axios.get('http://localhost:8000/methods').then(r => setWipeMethods(r.data)).catch(()=>{}); }, []);\r\n  useEffect(() => { if (consent) { fetchDevices(); fetchAllowlist(); } }, [consent, apiKey, detailedMode]);\r\n  useEffect(() => { if (isAndroid) { const serial = selectedDevice.split(':')[1]; fetch(`http://localhost:8000/android_encryption?serial=${serial}`).then(r=>r.json()).then(d=> setAndroidEncryption(d.encrypted?'Encrypted':'Not Encrypted')).catch(()=>setAndroidEncryption(null)); } else setAndroidEncryption(null); }, [selectedDevice, isAndroid]);\r\n  useEffect(() => {\r\n    if (!isWindowsDrive) { setWinBitLocker({ status:null, unlocking:false, details:[] }); return; }\r\n    fetch(`http://localhost:8000/bitlocker_status?device_id=${encodeURIComponent(selectedDevice)}`)\r\n      .then(r=>r.json())\r\n      .then(d=>{\r\n        if (Array.isArray(d.results) && d.results.length) {\r\n          const listStr = d.results.map(x=>`${x.drive}: ${x.status}`).join(', ');\r\n          setWinBitLocker({ status: d.status || listStr || 'Unknown', unlocking:false, details:d.results });\r\n        } else {\r\n          let msg = 'Unknown';\r\n          if (d.status === 'admin_required') msg = 'Admin required';\r\n          else if (d.status === 'no_mapping') msg = 'No mapping';\r\n          else if (d.status) msg = d.status;\r\n          else if (d.message) msg = d.message;\r\n          setWinBitLocker({ status: msg, unlocking:false, details: [] });\r\n        }\r\n      })\r\n      .catch(()=> setWinBitLocker({ status:'Error', unlocking:false, details:[] }));\r\n  }, [selectedDevice, isWindowsDrive]);\r\n  // SMART fetch (Linux only currently)\r\n  useEffect(()=>{\r\n    setSmartData(null);\r\n    const dev = devices.find(d=>d.id===selectedDevice);\r\n    if(!dev) return;\r\n    if(dev.type === 'Linux'){\r\n      fetch(`http://localhost:8000/smart?device_id=${encodeURIComponent(selectedDevice)}`)\r\n        .then(r=>r.json()).then(d=>setSmartData(d)).catch(()=>setSmartData(null));\r\n    }\r\n  }, [selectedDevice, devices]);\r\n\r\n  const t = key => (messages[lang] && messages[lang][key]) || key;\r\n\r\n  // Theme effect\r\n  useEffect(()=>{\r\n    const root = document.documentElement;\r\n    if(theme==='light') {\r\n      root.classList.remove('dark');\r\n    } else {\r\n      root.classList.add('dark');\r\n    }\r\n    root.classList.remove('light');\r\n    if(theme==='light') root.classList.add('light');\r\n  },[theme]);\r\n  useEffect(()=>{ document.documentElement.lang = lang === 'hi' ? 'hi' : 'en'; },[lang]);\r\n  // Cleanup progress polling on unmount\r\n  useEffect(()=>()=>{ if(progressPollRef.current) clearInterval(progressPollRef.current); },[]);\r\n\r\n  if (!consent) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-eco-gradient px-6\">\r\n        <div className=\"max-w-xl w-full bg-slate-900/80 backdrop-blur rounded-2xl border border-emerald-600/40 p-10 shadow-2xl\">\r\n          <h1 className=\"text-3xl font-bold eco-gradient-text mb-4\">CertiWipe {t('safetyNotice')}</h1>\r\n          <p className=\"text-slate-300 text-sm leading-relaxed mb-6\">{t('noticeBody')}</p>\r\n          <div className=\"flex gap-3 mb-4\">\r\n            <select value={lang} onChange={e=>setLang(e.target.value)} className=\"bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm\">\r\n              <option value=\"en\">English</option>\r\n              <option value=\"hi\">हिन्दी</option>\r\n            </select>\r\n            <button onClick={()=>setTheme(th=>th==='dark'?'light':'dark')} className=\"btn-secondary\" type=\"button\">{theme==='dark'?'Light':'Dark'}</button>\r\n          </div>\r\n          <button onClick={()=>setConsent(true)} className=\"btn-primary\">{t('proceed')}</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n          // Certificate view\r\n          if (certificate) {\r\n            return (\r\n              <div className=\"min-h-screen bg-slate-950 text-slate-100 p-8 space-y-6\">\r\n                <h2 className=\"text-2xl font-semibold flex items-center gap-3\"><span className=\"eco-gradient-text\">{t('eraseComplete')}</span> <Pill>{t('certificate')}</Pill></h2>\r\n                <SectionCard>\r\n                  <pre className=\"text-xs max-h-[50vh] overflow-auto leading-relaxed\">\r\n                    {JSON.stringify(certificate,null,2)}\r\n                  </pre>\r\n                  <div className=\"flex flex-wrap gap-3 mt-4\">\r\n                    <button onClick={()=>downloadCert('pdf')} className=\"btn-primary\">{t('downloadPdf')}</button>\r\n                    <button onClick={()=>downloadCert('json')} className=\"btn-secondary\">{t('downloadJson')}</button>\r\n                    <button onClick={downloadZip} className=\"btn-secondary\">{t('downloadZip')}</button>\r\n                    <button onClick={verifyErasure} className=\"btn-secondary\">{t('verifyErasure')}</button>\r\n                    <button onClick={()=>window.location.reload()} className=\"btn-danger ml-auto\">{t('startOver')}</button>\r\n                  </div>\r\n                  {verification && (\r\n                    <div className=\"mt-6 border border-slate-700 rounded-lg p-4 bg-slate-900/60\">\r\n                      <h4 className=\"font-semibold mb-2 text-emerald-300\">Verification Report</h4>\r\n                      {typeof verification === 'string' ? (\r\n                        <pre className=\"text-xs whitespace-pre-wrap\">{verification}</pre>\r\n                      ) : (\r\n                        <div className=\"space-y-2 text-[11px]\">\r\n                          <div className=\"flex flex-wrap gap-4\">\r\n                            {'entropy_score' in verification && <span>{t('entropy')}: <strong className=\"text-emerald-300\">{verification.entropy_score}</strong></span>}\r\n                            {'entropy_min' in verification && verification.entropy_min !== null && <span>Min: <strong>{verification.entropy_min}</strong></span>}\r\n                            {'entropy_max' in verification && verification.entropy_max !== null && <span>Max: <strong>{verification.entropy_max}</strong></span>}\r\n                            {'entropy_stddev' in verification && verification.entropy_stddev !== null && <span>σ: <strong>{verification.entropy_stddev}</strong></span>}\r\n                            {'confidence' in verification && <span>{t('confidence')}: <strong className=\"text-cyan-300\">{verification.confidence}</strong></span>}\r\n                            <span>Warnings: <strong className={verification.warnings? 'text-amber-400':'text-emerald-400'}>{verification.warnings}</strong></span>\r\n                          </div>\r\n                          {verification.entropy_samples && verification.entropy_samples.length>0 && (\r\n                            <details className=\"text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Entropy Samples ({verification.entropy_samples.length})</summary>\r\n                              <div className=\"mt-2 max-h-40 overflow-auto space-y-1\">\r\n                                {verification.entropy_samples.slice(0,25).map((s,i)=>(\r\n                                  <div key={i} className=\"flex justify-between\"><span>0x{s.offset.toString(16)}</span><span>{s.entropy_norm}</span></div>\r\n                                ))}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                          <details className=\"text-slate-400\">\r\n                            <summary className=\"cursor-pointer\">Raw JSON</summary>\r\n                            <pre className=\"text-[10px] whitespace-pre-wrap mt-2 max-h-52 overflow-auto\">{JSON.stringify(verification,null,2)}</pre>\r\n                          </details>\r\n                          {certificate?.trust_components && (\r\n                            <details className=\"text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Trust Components</summary>\r\n                              <div className=\"mt-2 grid grid-cols-2 gap-1 text-[10px]\">\r\n                                {Object.entries(certificate.trust_components).map(([k,v])=> <div key={k} className=\"flex justify-between\"><span>{k}</span><span className=\"text-emerald-300\">{v}</span></div>)}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </SectionCard>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          const methodMeta = wipeMethods.find(w=>w.id===method);\r\n          const disableErase = !selectedDevice || !method || erasing || (isAndroid && !(checklist.adb && checklist.connected && checklist.encrypted));\r\n\r\n          // Trust gauge (simple circle) component inline\r\n          const TrustGauge = ({ value=0 }) => {\r\n            const pct = Math.max(0, Math.min(100, value));\r\n            const stroke = 8;\r\n            const r = 54 - stroke;\r\n            const circ = 2 * Math.PI * r;\r\n            const offset = circ - (pct/100)*circ;\r\n            return (\r\n              <div className=\"trust-gauge\">\r\n                <svg viewBox=\"0 0 108 108\">\r\n                  <circle cx=\"54\" cy=\"54\" r={r} stroke=\"#1e293b\" strokeWidth={stroke} fill=\"none\" />\r\n                  <circle cx=\"54\" cy=\"54\" r={r} stroke=\"url(#grad)\" strokeLinecap=\"round\" strokeWidth={stroke} fill=\"none\" strokeDasharray={circ} strokeDashoffset={offset} />\r\n                  <defs>\r\n                    <linearGradient id=\"grad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                      <stop offset=\"0%\" stopColor=\"#10b981\" />\r\n                      <stop offset=\"50%\" stopColor=\"#06b6d4\" />\r\n                      <stop offset=\"100%\" stopColor=\"#0891b2\" />\r\n                    </linearGradient>\r\n                  </defs>\r\n                </svg>\r\n                <div className=\"trust-gauge-value\">{pct}</div>\r\n              </div>\r\n            );\r\n          };\r\n\r\n          const trustScoreVal = certificate?.trust_score || verification?.trust_score || 0;\r\n\r\n          return (\r\n            <div className={`min-h-screen ${theme==='dark' ? 'dark':'light'}`} style={{background: 'linear-gradient(135deg,var(--bg-gradient-from),var(--bg-gradient-mid),var(--bg-gradient-to))', color: 'var(--text-primary)'}}>\r\n              <header className=\"px-6 md:px-8 pt-6 pb-4 flex flex-col gap-4 md:flex-row md:items-center md:gap-8\">\r\n                <div className=\"flex flex-col\">\r\n                  <h1 className=\"text-3xl md:text-2xl font-bold eco-gradient-text tracking-wide leading-tight\">CertiWipe Dashboard</h1>\r\n                  <span className=\"mt-1 text-[11px] md:text-[10px] uppercase tracking-wider text-slate-400 font-medium\">{t('dashboardTag')}</span>\r\n                </div>\r\n                <nav className=\"flex gap-2 overflow-x-auto pr-1 -mx-1 md:mx-0 md:pr-0\">\r\n          {['devices','progress','certificates'].map(tab => (\r\n                    <button\r\n            key={tab}\r\n            onClick={()=>setActiveTab(tab)}\r\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition shrink-0 border ${activeTab===tab? 'bg-emerald-600 text-white border-emerald-500 shadow':'bg-slate-800/60 border-slate-700 hover:bg-slate-700/60'}`}\r\n                    >\r\n            {tab==='devices'?t('devicesTab'):tab==='progress'?t('progressTab'):t('certificatesTab')}\r\n                    </button>\r\n                  ))}\r\n                </nav>\r\n                <div className=\"md:ml-auto flex flex-wrap gap-4 text-[11px] md:text-xs text-slate-400 pt-1 md:pt-0 border-t md:border-t-0 border-slate-800 md:pl-0 pl-1 items-center\">\r\n                  <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"/>{t('devicesLabel')}: {devices.length}</span>\r\n                  <input value={apiKey} onChange={e=>setApiKey(e.target.value.trim())} placeholder=\"API Key\" className=\"px-2 py-1 rounded border border-slate-600 bg-slate-800/60 text-xs w-32\" />\r\n                  <span>{t('methodLabel')}: <span className=\"text-emerald-300 font-mono\">{method || '-'}</span></span>\r\n                  <button\r\n                    onClick={()=>setTheme(th=>th==='dark'?'light':'dark')}\r\n                    className={`px-3 py-1 rounded text-xs border transition ${theme==='dark'\r\n                      ? 'bg-slate-800/60 hover:bg-slate-700/60 border-slate-600 text-slate-200'\r\n                      : 'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'}`}\r\n                  >{theme==='dark'?'Light':'Dark'}</button>\r\n                  <select\r\n                    value={lang}\r\n                    onChange={e=>setLang(e.target.value)}\r\n                    className={`rounded px-2 py-1 text-xs border transition ${theme==='dark'\r\n                      ? 'bg-slate-800/60 border-slate-600 text-slate-200'\r\n                      : 'bg-white/70 hover:bg-white border-slate-300 text-slate-700 shadow-sm'}`}\r\n                  >\r\n                    <option value=\"en\">EN</option>\r\n                    <option value=\"hi\">HI</option>\r\n                  </select>\r\n                  {trustScoreVal ? <div className=\"flex items-center gap-2\"><TrustGauge value={trustScoreVal} /><span className=\"text-[10px] uppercase tracking-wide\">Trust</span></div>: null}\r\n                </div>\r\n              </header>\r\n              <main className=\"px-8 pb-16 space-y-8\">\r\n                {activeTab==='devices' && (\r\n                  <div className=\"grid lg:grid-cols-3 gap-8\">\r\n                    <SectionCard title={t('selectDevice')} className=\"lg:col-span-1\">\r\n                      {/* Allowlist badge */}\r\n                      {selectedDevice && <div className=\"mb-2 text-[10px] flex items-center gap-2\">\r\n                        {allowlist.includes(selectedDevice) ? <span className=\"px-2 py-0.5 rounded bg-emerald-700/60 text-emerald-200\">Allowlisted</span> : <span className=\"px-2 py-0.5 rounded bg-amber-700/60 text-amber-200\">Not Allowlisted</span>}\r\n                        {selectedDevice && !allowlist.includes(selectedDevice) && <button onClick={async()=>{ try { await axios.post('http://localhost:8000/allow_device', null, { params:{ device_id: selectedDevice }}); setAllowlist(a=>[...a, selectedDevice]); } catch{} }} className=\"text-[10px] underline text-emerald-300\">Add</button>}\r\n                        {selectedDevice && allowlist.includes(selectedDevice) && <button onClick={async()=>{ try { await axios.delete('http://localhost:8000/allow_device', { params:{ device_id: selectedDevice }}); setAllowlist(a=>a.filter(d=>d!==selectedDevice)); } catch{} }} className=\"text-[10px] underline text-amber-300\">Remove</button>}\r\n                      </div>}\r\n                      <div className=\"flex items-center gap-3 mb-3 flex-wrap\">\r\n                        <button onClick={()=>fetchDevices()} className={`px-3 py-1.5 text-xs rounded border transition font-medium ${theme==='dark'? 'bg-slate-800 hover:bg-slate-700 border-slate-600 text-slate-200':'bg-white hover:bg-emerald-50 border-slate-300 text-slate-700 shadow-sm'}`}>{t('refresh')}</button>\r\n                        <label className=\"flex items-center gap-1 text-[10px] cursor-pointer select-none\">\r\n                          <input type=\"checkbox\" className=\"accent-emerald-500\" checked={detailedMode} onChange={e=>setDetailedMode(e.target.checked)} />\r\n                          <span className=\"uppercase tracking-wide\">Detailed</span>\r\n                        </label>\r\n                        {devicesLoading && <span className=\"text-xs text-emerald-400 animate-pulse\">{t('loading')}</span>}\r\n                      </div>\r\n                      <select\r\n                        value={selectedDevice}\r\n                        onChange={e=>setSelectedDevice(e.target.value)}\r\n                        className={`w-full rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 border transition ${theme==='dark'\r\n                          ? 'bg-slate-900 border-slate-700 text-slate-100'\r\n                          : 'bg-white border-slate-300 text-slate-800 shadow-sm'} `}\r\n                      >\r\n                        <option value=\"\">-- Select Device --</option>\r\n                        {devices.map(d => (\r\n                          <option key={d.id} value={d.id}>{d.model} [{d.type}] ({d.size || '-'})</option>\r\n                        ))}\r\n                      </select>\r\n                      {selectedDevice && <div className=\"mt-3 text-xs text-slate-400\">{t('selected')}: <span className=\"text-emerald-300 font-mono break-all\">{selectedDevice}</span></div>}\r\n                      {selectedDevice && (()=>{const d=devices.find(x=>x.id===selectedDevice); if(!d) return null; return (\r\n                        <div className=\"mt-4 text-[11px] bg-slate-900/60 border border-slate-700 rounded-lg p-3 space-y-1\">\r\n                          <div className=\"text-slate-300 font-semibold mb-1 tracking-wide uppercase text-[10px]\">Device Details</div>\r\n                          <div className=\"grid grid-cols-2 gap-x-4 gap-y-1\">\r\n                            <span className=\"text-slate-400\">Model</span><span className=\"text-emerald-300 break-all\">{d.model||'-'}</span>\r\n                            <span className=\"text-slate-400\">Type</span><span>{d.type||'-'}</span>\r\n                            <span className=\"text-slate-400\">Size</span><span>{d.size || (d.size_bytes? (d.size_bytes/1e9).toFixed(2)+'GB':'-')}</span>\r\n                            {d.serial && <><span className=\"text-slate-400\">Serial</span><span className=\"break-all\">{d.serial}</span></>}\r\n                            {d.interface && <><span className=\"text-slate-400\">Interface</span><span>{d.interface}</span></>}\r\n                            {typeof d.rotational === 'boolean' && <><span className=\"text-slate-400\">Media</span><span>{d.rotational? 'HDD':'SSD/Flash'}</span></>}\r\n                            {d.temperature_c !== undefined && d.temperature_c !== null && <><span className=\"text-slate-400\">Temp</span><span>{d.temperature_c}°C</span></>}\r\n                            {d.health && <><span className=\"text-slate-400\">Health</span><span className={d.health==='PASSED' || d.health==='OK' ? 'text-emerald-400':'text-amber-400'}>{d.health}</span></>}\r\n                            {Array.isArray(d.mountpoints) && d.mountpoints.length>0 && <><span className=\"text-slate-400\">Mounts</span><span>{d.mountpoints.join(',')}</span></>}\r\n                            {d.is_system !== undefined && <><span className=\"text-slate-400\">System Disk</span><span className={d.is_system? 'text-amber-400':'text-emerald-400'}>{String(d.is_system)}</span></>}\r\n                          </div>\r\n                          {d.encryption && d.encryption.admin_required && (\r\n                            <div className=\"mt-2 text-[10px] rounded bg-amber-800/40 border border-amber-600/40 px-2 py-1 text-amber-300 flex items-start gap-2\">\r\n                              <span className=\"mt-0.5\">⚠</span>\r\n                              <span>{t('adminPrivilegesNeeded')}</span>\r\n                            </div>\r\n                          )}\r\n                            {isAndroid && d.android_encryption && (\r\n                              <div className=\"mt-2 text-[10px] rounded bg-slate-800/60 border border-slate-700 px-2 py-1 text-slate-300\">\r\n                                <div className=\"uppercase tracking-wide text-slate-400 mb-1\">Android Encryption</div>\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                  <span>State</span><span className=\"col-span-2 text-emerald-300\">{d.android_encryption.state || '-'}</span>\r\n                                  <span>Type</span><span className=\"col-span-2\">{d.android_encryption.type || '-'}</span>\r\n                                  <span>Status</span><span className=\"col-span-2\">{d.android_encryption.status || '-'}</span>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                            {d.encryption && d.encryption.volumes && (\r\n                            <details className=\"mt-2 text-slate-400\">\r\n                              <summary className=\"cursor-pointer\">Encryption Volumes ({d.encryption.volumes.length})</summary>\r\n                              <div className=\"mt-1 max-h-28 overflow-auto space-y-1\">\r\n                                {d.encryption.volumes.map((v,i)=>{\r\n                                  const pct = (v.encryption_pct === null || v.encryption_pct === undefined) ? '—' : typeof v.encryption_pct === 'number' ? v.encryption_pct : v.encryption_pct;\r\n                                  const tip = v.details ? JSON.stringify({lock_status:v.lock_status, protection:v.details.ProtectionStatus, pct:v.encryption_pct}, null, 0) : (v.raw_text ? v.raw_text : v.lock_status);\r\n                                  return (\r\n                                    <div key={i} title={tip} className=\"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded\">\r\n                                      <span className=\"flex-1 truncate\">{v.mount}</span>\r\n                                      <span className={/unlock/i.test(v.lock_status)?'text-emerald-300':'text-amber-300'}>{v.lock_status}</span>\r\n                                      <span className=\"text-[10px] rounded bg-slate-900/60 px-1 py-0.5 text-slate-400 min-w-8 text-center\">{pct}{pct!=='—' && typeof pct==='number'? '%':''}</span>\r\n                                    </div>\r\n                                  );\r\n                                })}\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )})()}\r\n                      {selectedDevice && smartData && smartData.supported !== false && (\r\n                        <div className=\"mt-3 space-y-2\">\r\n                          {smartData && (\r\n                            <details className=\"text-slate-300 bg-slate-900/60 p-2 rounded border border-slate-700\">\r\n                              <summary className=\"cursor-pointer text-[11px]\">SMART / Health</summary>\r\n                              <div className=\"mt-2 space-y-1 text-[11px]\">\r\n                                {'temperature_c' in smartData && smartData.temperature_c !== null && <div>Temp: <span className=\"text-emerald-300\">{smartData.temperature_c}°C</span></div>}\r\n                                {'health' in smartData && smartData.health && <div>Health: <span className={smartData.health==='PASSED' || smartData.health==='OK' ? 'text-emerald-400':'text-amber-400'}>{smartData.health}</span></div>}\r\n                                {Array.isArray(smartData.interesting_attributes) && smartData.interesting_attributes.length>0 && (\r\n                                  <div className=\"mt-1\">\r\n                                    <div className=\"text-[10px] uppercase tracking-wide text-slate-400\">Attributes</div>\r\n                                    <div className=\"max-h-32 overflow-auto mt-1 space-y-1\">\r\n                                      {smartData.interesting_attributes.map((a,i)=> (\r\n                                        <div key={i} className=\"flex justify-between gap-2 text-[10px] bg-slate-800/50 px-2 py-1 rounded\">\r\n                                          <span>{a.name}</span>\r\n                                          <span className=\"text-emerald-300\">{a.raw?.value ?? a.value ?? '-'}</span>\r\n                                        </div>\r\n                                      ))}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                                {smartData.error && <div className=\"text-amber-400 text-[10px]\">{smartData.error}</div>}\r\n                                {smartData.supported === false && <div className=\"text-slate-500 text-[10px]\">SMART not supported: {smartData.reason}</div>}\r\n                                <details className=\"mt-2\">\r\n                                  <summary className=\"cursor-pointer text-[10px] text-slate-400\">Raw (truncated)</summary>\r\n                                  <pre className=\"text-[9px] max-h-32 overflow-auto whitespace-pre-wrap\">{JSON.stringify(smartData.raw ? (smartData.raw.device? smartData.raw.device: smartData.raw) : smartData, null, 2).slice(0,3000)}</pre>\r\n                                </details>\r\n                              </div>\r\n                            </details>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                    <SectionCard title={t('wipeMethod')} className=\"lg:col-span-1\">\r\n                      <select\r\n                        value={method}\r\n                        onChange={e=>setMethod(e.target.value)}\r\n                        className={`w-full rounded px-3 py-2 text-sm border transition ${theme==='dark'\r\n                          ? 'bg-slate-900 border-slate-700 text-slate-100'\r\n                          : 'bg-white border-slate-300 text-slate-800 shadow-sm'} `}\r\n                      >\r\n                        <option value=\"\">-- Select Method --</option>\r\n                        {wipeMethods.filter(m => {\r\n                          if(isAndroid && ['multi-pass','dod_5220_22m','nist_800_88'].includes(m.id)) return false; // hide heavy patterns for Android logical wipe\r\n                          return true;\r\n                        }).map(m => (\r\n                          <option key={m.id} value={m.id}>{m.label || m.id} ({m.passes} pass{m.passes>1?'es':''})</option>\r\n                        ))}\r\n                      </select>\r\n                      {methodMeta && (\r\n                        <div className=\"mt-3 text-xs leading-relaxed text-slate-300\">\r\n                          <div className=\"font-medium text-emerald-300 mb-1\">{methodMeta.label}</div>\r\n                          <div>{methodMeta.description}</div>\r\n                          <div className=\"mt-1 flex gap-2 flex-wrap\">\r\n                            <Pill>{methodMeta.passes} pass{methodMeta.passes>1?'es':''}</Pill>\r\n                            <Pill tone='cyan'>Energy:{Math.round((methodMeta.energy_factor||1)*100)}%</Pill>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                    <SectionCard title={t('preconditions')} className=\"lg:col-span-1 space-y-4\">\r\n                      {isAndroid && (\r\n                        <div className=\"space-y-2\">\r\n                          <h4 className=\"text-sm font-semibold text-cyan-300\">{t('androidChecklist')}</h4>\r\n                          {['adb','connected','encrypted'].map(key => (\r\n                            <label key={key} className=\"flex items-center gap-2 text-xs\">\r\n                              <input type=\"checkbox\" className=\"accent-emerald-500\" checked={checklist[key]} onChange={e=>setChecklist(c=>({...c,[key]:e.target.checked}))}/>\r\n                              <span className=\"capitalize\">{key}</span>\r\n                            </label>\r\n                          ))}\r\n                          <div className=\"text-[10px] text-slate-400 mt-1\">Encryption status: <span className=\"text-emerald-300\">{androidEncryption || '...'}</span></div>\r\n                        </div>\r\n                      )}\r\n                      {isWindowsDrive && (\r\n                        <div className=\"space-y-2\">\r\n                          <h4 className=\"text-sm font-semibold text-cyan-300\">{t('windowsBitlocker')}</h4>\r\n                          <div className=\"text-xs\">{t('status')}: <span className=\"text-emerald-300\">{winBitLocker.status || '...'}</span></div>\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {winBitLocker.details.filter(r=>r.status==='Locked').map(r => (\r\n                              <button key={r.drive} onClick={()=>setUnlockModal({ open:true, drive:r.drive, method:'password', value:'' })} className=\"px-2 py-1 text-[10px] rounded bg-amber-600/70 hover:bg-amber-600\">Unlock {r.drive}</button>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {!isAndroid && !isWindowsDrive && <p className=\"text-xs text-slate-400\">{t('noSpecial')}</p>}\r\n                      <button disabled={disableErase} onClick={startErase} className={`w-full mt-4 px-4 py-2 rounded font-medium text-sm transition ${disableErase? 'bg-slate-700 text-slate-400 cursor-not-allowed':'bg-gradient-to-r from-emerald-600 to-cyan-600 text-white hover:brightness-110 shadow'} `}>{erasing? t('erasing') : t('startErase')}</button>\r\n                      {erasing && <div className=\"text-[10px] text-emerald-400 animate-pulse\">{t('doNotDisconnect')}</div>}\r\n                    </SectionCard>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab==='progress' && (\r\n                  <div className=\"grid lg:grid-cols-3 gap-6\">\r\n                    <SectionCard title={t('realTimeProgress')} className=\"lg:col-span-2\">\r\n                      <pre className=\"text-[11px] leading-snug max-h-[50vh] overflow-auto font-mono whitespace-pre-wrap\">{progress.join('\\n') || t('noActivity')}</pre>\r\n                    </SectionCard>\r\n                    <SectionCard title=\"Detailed Metrics\" className=\"lg:col-span-1\">\r\n                      {!detailedProgress && <div className=\"text-xs text-slate-400\">Awaiting progress...</div>}\r\n                      {detailedProgress && (\r\n                        <div className=\"space-y-4 text-xs\">\r\n                          <div className=\"flex justify-between\"><span>Status</span><span className=\"font-medium text-emerald-300\">{detailedProgress.status}</span></div>\r\n                          <div className=\"flex justify-between\"><span>Pass</span><span>{Math.min(detailedProgress.pass_index, detailedProgress.passes_total)}/{detailedProgress.passes_total}{detailedProgress.current_pattern?` (${detailedProgress.current_pattern})`:''}</span></div>\r\n                          <div className=\"flex justify-between\"><span>Bytes</span><span>{(detailedProgress.bytes_written/1e9).toFixed(2)} / {(detailedProgress.total_bytes/1e9).toFixed(2)} GB</span></div>\r\n                          <div className=\"flex justify-between\"><span>Percent</span><span>{detailedProgress.total_bytes? ((detailedProgress.bytes_written/detailedProgress.total_bytes)*100).toFixed(1):'0'}%</span></div>\r\n                          <div className=\"flex justify-between\"><span>Speed</span><span>{detailedProgress._speedMBs? detailedProgress._speedMBs.toFixed(1):'0.0'} MB/s</span></div>\r\n                          {detailedProgress._etaSec !== null && <div className=\"flex justify-between\"><span>ETA</span><span>{detailedProgress._etaSec>7200?'>2h': detailedProgress._etaSec>3600?'>1h': new Date(detailedProgress._etaSec*1000).toISOString().substr(11,8)}</span></div>}\r\n                          {/* Visual progress bar */}\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"h-2.5 w-full rounded bg-slate-700 overflow-hidden flex\">\r\n                              {Array.from({length: detailedProgress.passes_total}).map((_,i)=>{\r\n                                const isDone = i < (detailedProgress.pass_index||0);\r\n                                const isCurrent = i === (detailedProgress.pass_index||0);\r\n                                const patternLabel = detailedProgress.pass_patterns && detailedProgress.pass_patterns[i] ? detailedProgress.pass_patterns[i] : '';\r\n                                const title = isDone? `Pass ${i+1} ${patternLabel} complete` : isCurrent? `Pass ${i+1} ${patternLabel} active` : `Pass ${i+1} ${patternLabel} pending`;\r\n                                return <div key={i} title={title} className={`h-full transition-all duration-300 ${isDone? 'bg-emerald-500': isCurrent? 'bg-cyan-500 animate-pulse':'bg-slate-600/60'}`} style={{flex:1, marginRight: i===detailedProgress.passes_total-1?0:2, opacity: isCurrent?1: undefined}} />\r\n                              })}\r\n                            </div>\r\n                            <div className=\"flex justify-between text-[10px] tracking-wide uppercase text-slate-400\">\r\n                              <span>Pass Segments</span>\r\n                              {detailedProgress.total_bytes ? (\r\n                                <span>{((detailedProgress.bytes_written/detailedProgress.total_bytes)*100).toFixed(1)}%</span>\r\n                              ): <span>0%</span>}\r\n                            </div>\r\n                          </div>\r\n                          {detailedProgress.verified !== null && <div className=\"flex justify-between\"><span>Verified</span><span className={detailedProgress.verified? 'text-emerald-400':'text-amber-400'}>{String(detailedProgress.verified)}</span></div>}\r\n                          {detailedProgress.completed_at && <div className=\"flex justify-between\"><span>Completed</span><span>{new Date(detailedProgress.completed_at).toLocaleTimeString()}</span></div>}\r\n                          {(!detailedProgress.completed_at && detailedProgress.status !== 'cancelled') && (\r\n                            <button onClick={async()=>{ try { await axios.post('http://localhost:8000/cancel', null, { params:{ device_id: selectedDevice }});} catch(e){} }} className=\"w-full mt-2 px-2 py-1.5 rounded bg-amber-600 hover:bg-amber-500 text-[11px] font-medium\">Cancel</button>\r\n                          )}\r\n                          {detailedProgress && detailedProgress.status==='running' && !erasing && (\r\n                            <button onClick={async()=>{ try { await axios.post('http://localhost:8000/erase?confirm=true', { device_id: selectedDevice, method: detailedProgress.method, resume: true }); setProgress(p=>[...p,'Resume requested...']); } catch { setProgress(p=>[...p,'Resume failed']); } }} className=\"w-full mt-2 px-2 py-1.5 rounded bg-cyan-600 hover:bg-cyan-500 text-[11px] font-medium\">Resume</button>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </SectionCard>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab==='certificates' && (\r\n                  <CertificatesList />\r\n                )}\r\n              </main>\r\n\r\n              {unlockModal.open && (\r\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n                  <div className=\"w-full max-w-md bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-xl\">\r\n                    <h3 className=\"text-lg font-semibold mb-4 eco-gradient-text\">Unlock BitLocker ({unlockModal.drive})</h3>\r\n                    <label className=\"block text-xs mb-2 font-medium\">Method</label>\r\n                    <select value={unlockModal.method} onChange={e=>setUnlockModal(m=>({...m, method:e.target.value, value:''}))} className=\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-4\">\r\n                      <option value=\"password\">Password</option>\r\n                      <option value=\"recovery_key\">Recovery Key</option>\r\n                      <option value=\"numerical_password\">Numerical Password</option>\r\n                      <option value=\"key_file\">Key File (.BEK)</option>\r\n                    </select>\r\n                    <label className=\"block text-xs mb-2 font-medium\">{unlockModal.method === 'key_file' ? 'Key File Path' : 'Value'}</label>\r\n                    <input value={unlockModal.value} onChange={e=>setUnlockModal(m=>({...m,value:e.target.value}))} placeholder={unlockModal.method==='key_file'? 'C:\\\\path\\\\to\\\\keyfile.BEK':'Enter value'} className=\"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-sm mb-5\" />\r\n                    <div className=\"flex gap-3\">\r\n                      <button onClick={async ()=>{\r\n                        if(!unlockModal.value.trim()) return alert('Enter a value');\r\n                        const body = { device_id: unlockModal.drive, [unlockModal.method]: unlockModal.value };\r\n                        try {\r\n                          const res = await fetch('http://localhost:8000/bitlocker_unlock',{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body)});\r\n                          const data = await res.json();\r\n                          if(data.status==='Unlocked') {\r\n                            setWinBitLocker(w=>({...w, status: w.status?.replace(`${unlockModal.drive}: Locked`, `${unlockModal.drive}: Unlocked`)}));\r\n                            setUnlockModal({ open:false, drive:'', method:'password', value:''});\r\n                          } else alert('Unlock failed');\r\n                        } catch(e){ alert('Unlock failed'); }\r\n                      }} className=\"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 text-sm font-medium\">Unlock</button>\r\n                      <button onClick={()=>setUnlockModal({ open:false, drive:'', method:'password', value:''})} className=\"px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm\">Cancel</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n}\r\n\r\nfunction CertificatesList(){\r\n  const [certs, setCerts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(()=>{ fetch('http://localhost:8000/certificates').then(r=>r.json()).then(d=>{setCerts(d); setLoading(false);}).catch(()=>setLoading(false)); },[]);\r\n  if (loading) return <SectionCard title=\"Certificates\">Loading...</SectionCard>;\r\n  if (!certs.length) return <SectionCard title=\"Certificates\">No certificates yet.</SectionCard>;\r\n  return (\r\n    <div className=\"grid md:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n      {certs.map(c => (\r\n        <div key={c.log_hash || c.device_id} className=\"eco-card border border-slate-700/70\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <h4 className=\"font-semibold text-sm text-emerald-300 truncate\">{c.device_id}</h4>\r\n            <Pill tone='cyan'>{c.method}</Pill>\r\n          </div>\r\n          <div className=\"text-[11px] space-y-1 text-slate-300\">\r\n            <div>TrustScore: <span className=\"text-emerald-400 font-medium\">{c.trust_score}</span></div>\r\n            <div>Passes: {c.passes}</div>\r\n            <div>Eco: {c.eco?.ewaste_kg_risk_reduced} kg reduced</div>\r\n            {c.eco?.energy_kwh_est !== undefined && <div>{t('energy')}: {c.eco.energy_kwh_est ?? '-'} kWh</div>}\r\n            {c.eco?.co2_kg_est !== undefined && <div>{t('carbon')}: {c.eco.co2_kg_est ?? '-'} kg</div>}\r\n            <div className=\"truncate\">Hash: {c.log_hash?.slice(0,20)}...</div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Ensure default export (was removed during refactor)\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}